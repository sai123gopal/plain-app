import{d as V,aC as k,o as i,c as d,a as r,l as T,I as b,F as A,J as I,t as y,h as C,k as $,r as q,p as S,ap as N,bL as x,A as w,B as z,_ as E,u as F,x as R,a2 as M,bV as P}from"./index-9c78c93b.js";const D={class:"pagination"},K=["onClick"],L={key:0,class:"page-link"},j=["onClick"],H=["onClick"],ie=V({__name:"VPagination",props:{total:{type:Number,default:0},limit:{type:Number,default:50},rangeSize:{type:Number,default:2},modelValue:{type:Number,default:0}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e;function u(o){a("update:modelValue",o)}const l=k(()=>Math.ceil(t.total/t.limit)),s=k(()=>{const o=[],p=5+t.rangeSize*2;let n=l.value<=p?1:t.modelValue-t.rangeSize,m=l.value<=p?l.value:t.modelValue+t.rangeSize;if(m=m>l.value?l.value:m,n=n<1?1:n,l.value>p){const g=n-1<3,B=l.value-m<3;if(g){m=p-2;for(let c=1;c<n;c++)o.push(c)}else o.push(1),o.push(null);if(B){n=l.value-(p-3);for(let c=n;c<=l.value;c++)o.push(c)}else{for(let c=n;c<=m;c++)o.push(c);o.push(null),o.push(l.value)}}else for(let g=n;g<=m;g++)o.push(g);return o}),f=k(()=>t.modelValue>1),_=k(()=>t.modelValue<l.value);function h(){f.value&&a("update:modelValue",t.modelValue-1)}function v(){_.value&&a("update:modelValue",t.modelValue+1)}return(o,p)=>(i(),d("ul",D,[r("li",{class:b(["page-item",{disabled:!f.value}])},[r("a",{class:"page-link",href:"#",onClick:T(h,["prevent"])},"«",8,K)],2),(i(!0),d(A,null,I(s.value,n=>(i(),d("li",{class:b(["page-item",{disabled:n===null,active:n===e.modelValue}])},[n===null?(i(),d("span",L,"···")):(i(),d("a",{key:1,class:"page-link",href:"#",onClick:T(m=>u(n),["prevent"])},y(n),9,j))],2))),256)),r("li",{class:b(["page-item",{disabled:!_.value}])},[r("a",{class:"page-link",href:"#",onClick:T(v,["prevent"])},"»",8,H)],2)]))}}),J={key:0,class:"alert-info alert-all-checked"},G={key:1,class:"alert-info alert-all-checked"},de=V({__name:"AllCheckedAlert",props:{limit:{type:Number,required:!0},total:{type:Number,required:!0},allCheckedAlertVisible:{type:Boolean,required:!0},realAllChecked:{type:Boolean,required:!0},selectRealAll:{type:Function},clearSelection:{type:Function}},setup(e){return(a,t)=>(i(),d(A,null,[e.allCheckedAlertVisible?(i(),d("div",J,[C(y(a.$t("all_items_on_this_page_are_selected",{count:e.limit}))+" ",1),r("a",{href:"#",onClick:t[0]||(t[0]=T((...u)=>e.selectRealAll&&e.selectRealAll(...u),["prevent"]))},y(a.$t("select_all_items",{count:e.total})),1)])):$("",!0),e.realAllChecked?(i(),d("div",G,[C(y(a.$t("all_items_are_selected",{count:e.total}))+" ",1),r("a",{href:"#",onClick:t[1]||(t[1]=T((...u)=>e.clearSelection&&e.clearSelection(...u),["prevent"]))},y(a.$t("clear_selection")),1)])):$("",!0)],64))}}),O={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Q=r("path",{fill:"currentColor",d:"M12 21q-.425 0-.712-.288T11 20v-4q0-.425.288-.712T12 15t.713.288T13 16v1h7q.425 0 .713.288T21 18t-.288.713T20 19h-7v1q0 .425-.288.713T12 21m-8-2q-.425 0-.712-.288T3 18t.288-.712T4 17h4q.425 0 .713.288T9 18t-.288.713T8 19zm4-4q-.425 0-.712-.288T7 14v-1H4q-.425 0-.712-.288T3 12t.288-.712T4 11h3v-1q0-.425.288-.712T8 9t.713.288T9 10v4q0 .425-.288.713T8 15m4-2q-.425 0-.712-.288T11 12t.288-.712T12 11h8q.425 0 .713.288T21 12t-.288.713T20 13zm4-4q-.425 0-.712-.288T15 8V4q0-.425.288-.712T16 3t.713.288T17 4v1h3q.425 0 .713.288T21 6t-.288.713T20 7h-3v1q0 .425-.288.713T16 9M4 7q-.425 0-.712-.288T3 6t.288-.712T4 5h8q.425 0 .713.288T13 6t-.288.713T12 7z"},null,-1),U=[Q];function W(e,a){return i(),d("svg",O,U)}const X={name:"material-symbols-tune-rounded",render:W},Y={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Z=r("path",{fill:"currentColor",d:"M9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l5.6 5.6q.275.275.275.7t-.275.7t-.7.275t-.7-.275l-5.6-5.6q-.75.6-1.725.95T9.5 16m0-2q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14"},null,-1),ee=[Z];function te(e,a){return i(),d("svg",Y,ee)}const le={name:"material-symbols-search-rounded",render:te},ae=e=>(w("data-v-9ba69c3e"),e=e(),z(),e),ne={class:"search-input"},se=["value","placeholder"],oe=ae(()=>r("md-ripple",null,null,-1)),ue=["open"],re=V({__name:"SearchInput",props:{modelValue:{type:String,default:""},search:{type:Function,required:!0}},emits:["update:modelValue"],setup(e,{expose:a,emit:t}){const u=e,l=q(!1),s=q(!1),f=h=>{t("update:modelValue",h.target.value)};function _(){l.value=!0}return a({dismiss:()=>s.value=!1}),(h,v)=>{const o=le,p=X;return i(),d("div",ne,[r("md-outlined-text-field",{id:"input-ref",type:"search","data-search-input":"true",value:e.modelValue,onInput:f,onFocus:_,onBlur:v[1]||(v[1]=n=>l.value=!1),onKeyup:v[2]||(v[2]=N((...n)=>u.search&&u.search(...n),["enter"])),placeholder:h.$t("search_hint")},[S(o,{slot:"leading-icon"}),r("button",{class:"icon-button",ref:"moreButton",slot:"trailing-icon",onClick:v[0]||(v[0]=T(()=>s.value=!0,["prevent"]))},[oe,S(p)],512)],40,se),r("md-menu",{anchor:"input-ref","menu-corner":"start-end","anchor-corner":"end-end","stay-open-on-focusout":"",quick:"",open:s.value,onClosed:v[3]||(v[3]=()=>s.value=!1)},[x(h.$slots,"filters",{},void 0,!0)],40,ue)])}}});const he=E(re,[["__scopeId","data-v-9ba69c3e"]]),ve=e=>{const a=q(!1),t=q(!1),u=q(0);return{realAllChecked:t,allChecked:a,toggleAllChecked:l=>{l.target.checked?(a.value=!0,e.value.forEach(s=>{s.checked=!0})):(a.value=!1,t.value=!1,e.value.forEach(s=>{s.checked=!1}))},toggleItemChecked:l=>{l.target.checked?e.value.every(s=>s.checked)&&(a.value=!0):(a.value=!1,t.value=!1)},toggleRow:l=>{l.checked=!l.checked,l.checked?e.value.every(s=>s.checked)&&(a.value=!0):(a.value=!1,t.value=!1)},allCheckedAlertVisible:k(()=>a.value&&!t.value&&e.value.length<u.value),selectRealAll:()=>{t.value=!0},clearSelection:()=>{a.value=!1,t.value=!1,e.value.forEach(l=>{l.checked=!1})},total:u,checked:k(()=>e.value.some(l=>l.checked))}},pe=(e,a,t)=>{const{t:u}=F();return{deleteItems:(l,s)=>{let f=s;if(!l){const _=t.value.filter(h=>h.checked);if(_.length===0){R(u("select_first"),"error");return}f=`ids:${_.map(h=>h.id).join(",")}`}M(P,{gql:e,variables:()=>({query:f}),done:a})}}};export{he as _,de as a,ie as b,pe as c,ve as u};
