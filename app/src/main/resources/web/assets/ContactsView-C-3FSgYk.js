import{_ as Ze}from"./VPagination.vuevuetypescriptsetuptruelang-CFupeDJR.js";import{o as s,c as o,a as e,d as ue,h as B,as as Ve,at as R,au as et,t as u,x as p,y as b,m as t,z as tt,A as st,H as Ue,I as Le,g as Se,j as de,ac as ie,av as ke,e as N,p as h,O as v,P as f,q as ge,V as ce,aw as ot,ae as xe,am as lt,u as nt,s as at,i as dt,J as it,K as ct,l as ut,L as rt,M as _t,w as I,N as Ce,v as we,Q as pt,a1 as H,ax as mt,f as vt,C as Ne,ay as ht,az as ft,Z as le,B as bt,S as $t,aA as yt,U as kt,W as gt,X as Ct,F as wt,G as Nt,Y as qt,$ as Tt,aB as qe,ad as Vt,a0 as Ut,aq as Lt,a2 as St,a3 as xt,a4 as It}from"./index-Dn0O6zoH.js";import{_ as At}from"./call-outline-rounded-BpLo2E1r.js";import{_ as Mt}from"./contact-page-outline-rounded-CN2R_OrK.js";import{_ as Dt,a as zt}from"./SearchInput-aem6tEJK.js";import{u as Ie,a as Ae}from"./vee-validate.esm-0lx5owW0.js";import{u as Ft,a as Et}from"./tags-CvPqo38V.js";import{b as Bt,u as Qt,a as Kt}from"./key-events-CgPzNP0J.js";import{u as Ot}from"./search-DrT1IjAg.js";import"./search-rounded-C8Nl_ZR1.js";import"./rss-feed-rounded-Dqku7i1k.js";const Rt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},jt=e("path",{fill:"currentColor",d:"M3 21v-4.25L16.2 3.575q.3-.275.663-.425t.762-.15t.775.15t.65.45L20.425 5q.3.275.438.65T21 6.4q0 .4-.137.763t-.438.662L7.25 21zM17.6 7.8L19 6.4L17.6 5l-1.4 1.4z"},null,-1),Gt=[jt];function Ht(g,x){return s(),o("svg",Rt,[...Gt])}const Wt={name:"material-symbols-edit",render:Ht},Jt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Pt=e("path",{fill:"currentColor",d:"M12 13.825L8.1 17.7q-.275.275-.687.288T6.7 17.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.213t.375-.062t.375.062t.325.213l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275zm0-6L8.1 11.7q-.275.275-.687.288T6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425t.375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275z"},null,-1),Xt=[Pt];function Yt(g,x){return s(),o("svg",Jt,[...Xt])}const Zt={name:"material-symbols-keyboard-double-arrow-up-rounded",render:Yt},es={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ts=e("path",{fill:"currentColor",d:"m12 16.175l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062t-.375-.062t-.325-.213l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275zm0-6L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062t-.375-.062t-.325-.213L6.7 7.7q-.275-.275-.288-.687T6.7 6.3q.275-.275.7-.275t.7.275z"},null,-1),ss=[ts];function os(g,x){return s(),o("svg",es,[...ss])}const ls={name:"material-symbols-keyboard-double-arrow-down-rounded",render:os};function W(g){return Array.from({length:g},(x,q)=>q+1).concat(-1)}const Z={phoneNumberTypes:W(20),emailTypes:W(4),addressTypes:W(3),eventTypes:W(3),imTypes:W(8),websiteTypes:W(7)},ns={slot:"headline"},as={slot:"content"},ds=["error","error-text"],is={slot:"actions"},cs=ue({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(g){const{handleSubmit:x}=Ie(),q=B(),d=g,{value:C,resetField:K,errorMessage:A}=Ae("inputValue",Ve().required()),$=x(()=>{d.do(C.value??""),R()});return C.value=d.value,d.value||K(),(async()=>{var U;await et(),(U=q.value)==null||U.focus()})(),(U,T)=>(s(),o("md-dialog",null,[e("div",ns,u(g.title),1),e("div",as,[p(e("md-outlined-text-field",{ref_key:"inputRef",ref:q,class:"form-control",error:t(A),"error-text":t(A)?U.$t(t(A)):"","onUpdate:modelValue":T[0]||(T[0]=w=>tt(C)?C.value=w:null),onKeyup:T[1]||(T[1]=st((...w)=>t($)&&t($)(...w),["enter"]))},null,40,ds),[[b,t(C)]])]),e("div",is,[e("md-outlined-button",{value:"cancel",onClick:T[2]||(T[2]=(...w)=>t(R)&&t(R)(...w))},u(U.$t("cancel")),1),e("md-filled-button",{value:"ok",onClick:T[3]||(T[3]=(...w)=>t($)&&t($)(...w)),autofocus:""},u(U.$t("ok")),1)])]))}}),us=Ue(cs,[["__scopeId","data-v-f510d520"]]),rs={slot:"headline"},_s={slot:"content"},ps={class:"form-label"},ms={class:"form-row"},vs=["label"],hs=["label"],fs=["label"],bs={key:1,class:"v-center"},$s=e("md-ripple",null,null,-1),ys={key:0,class:"form-row"},ks=["label"],gs=["label"],Cs={class:"v-center"},ws=e("md-ripple",null,null,-1),Ns={class:"form-label"},qs=["onUpdate:modelValue","onChange"],Ts=["value"],Vs={slot:"headline"},Us=["placeholder","onUpdate:modelValue"],Ls={class:"v-center"},Ss=["onClick"],xs=e("md-ripple",null,null,-1),Is={key:1,class:"form-label"},As=["onUpdate:modelValue","onChange"],Ms=["value"],Ds={slot:"headline"},zs=["label","onUpdate:modelValue"],Fs={class:"v-center"},Es=["onClick"],Bs=e("md-ripple",null,null,-1),Qs={key:2,class:"form-label"},Ks=["onUpdate:modelValue","onChange"],Os=["value"],Rs={slot:"headline"},js=["label","onUpdate:modelValue"],Gs={class:"v-center"},Hs=["onClick"],Ws=e("md-ripple",null,null,-1),Js={key:3,class:"form-label"},Ps=["onUpdate:modelValue","onChange"],Xs=["value"],Ys={slot:"headline"},Zs=["placeholder","onUpdate:modelValue"],eo={class:"v-center"},to=["onClick"],so=e("md-ripple",null,null,-1),oo={key:4,class:"form-label"},lo=["onUpdate:modelValue","onChange"],no=["value"],ao={slot:"headline"},io=["placeholder","onUpdate:modelValue"],co={class:"v-center"},uo=["onClick"],ro=e("md-ripple",null,null,-1),_o={class:"form-row",style:{display:"block",position:"relative"}},po={class:"menu-items"},mo=["onClick"],vo={slot:"headline"},ho=["onClick"],fo={slot:"headline"},bo=["onClick"],$o={slot:"headline"},yo=["onClick"],ko={slot:"headline"},go=["onClick"],Co={slot:"headline"},wo={class:"form-row"},No=["label"],qo={slot:"actions"},To=["disabled"],Vo={key:0,indeterminate:"",slot:"icon"},Te=ue({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(g){const{handleSubmit:x}=Ie(),q=g,d=Le({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),C=B(!1),{t:K}=Se(),{mutate:A,loading:$,onDone:U}=de({document:ie`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${ke}
  `,options:{update:()=>{q.done()}},appApi:!0}),{mutate:T,loading:w,onDone:P}=de({document:ie`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${ke}
  `,options:{update:()=>{q.done()}},appApi:!0}),{value:O,resetField:j,errorMessage:re}=Ae("inputValue",Ve().test("required",l=>"valid.required",l=>!0).test("target-value",l=>"invalid_value",l=>!0)),M=(l,r)=>{l.splice(0,l.length);for(const S of r)l.push({label:S.label,value:S.value,type:S.type})};(()=>{const l=q.data;l?(Object.assign(d,{firstName:l.firstName,middleName:l.middleName,lastName:l.lastName,prefix:l.prefix,suffix:l.suffix,notes:l.notes}),M(d.phoneNumbers,l.phoneNumbers),M(d.emails,l.emails),M(d.addresses,l.addresses),M(d.websites,l.websites),M(d.events,l.events),M(d.ims,l.ims)):(Object.assign(d,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),j())})();const D=l=>{l.type===-1&&ot(us,{value:l.label,title:K("custom"),do:r=>{l.label=r}})},V=(l,r,S)=>r===-1?l.label?l.label:K("custom"):K(`contact.${S}.${r}`),z=(l,r)=>{r.push({type:1,value:"",label:""}),l.close()},L=(l,r)=>{l.splice(r,1)},ee=x(()=>{var l,r;q.data?T({id:q.data.id,input:d}):(d.source=((r=(l=q.sources)==null?void 0:l[0])==null?void 0:r.name)??"",A({input:d}))});return U(()=>{R()}),P(()=>{R()}),(l,r)=>{const S=ls,te=Zt,y=xe,X=lt;return s(),o("md-dialog",null,[e("div",rs,u(g.data?l.$t("edit"):l.$t("create")),1),e("div",_s,[e("label",ps,u(l.$t("name")),1),e("div",ms,[p(e("md-outlined-text-field",{label:l.$t("first_name"),"onUpdate:modelValue":r[0]||(r[0]=a=>d.firstName=a)},null,8,vs),[[b,d.firstName]]),C.value?p((s(),o("md-outlined-text-field",{key:0,label:l.$t("middle_name"),"onUpdate:modelValue":r[1]||(r[1]=a=>d.middleName=a)},null,8,hs)),[[b,d.middleName]]):N("",!0),p(e("md-outlined-text-field",{label:l.$t("last_name"),"onUpdate:modelValue":r[2]||(r[2]=a=>d.lastName=a)},null,8,fs),[[b,d.lastName]]),C.value?N("",!0):(s(),o("div",bs,[e("button",{class:"btn-icon",onClick:r[3]||(r[3]=a=>C.value=!0)},[$s,h(S)])]))]),C.value?(s(),o("div",ys,[p(e("md-outlined-text-field",{label:l.$t("prefix"),"onUpdate:modelValue":r[4]||(r[4]=a=>d.prefix=a)},null,8,ks),[[b,d.prefix]]),p(e("md-outlined-text-field",{label:l.$t("suffix"),"onUpdate:modelValue":r[5]||(r[5]=a=>d.suffix=a)},null,8,gs),[[b,d.suffix]]),e("div",Cs,[e("button",{class:"btn-icon",onClick:r[6]||(r[6]=a=>C.value=!1)},[ws,h(te)])])])):N("",!0),e("label",Ns,u(l.$t("phone_number")),1),(s(!0),o(v,null,f(d.phoneNumbers,(a,k)=>(s(),o("div",{class:"form-row",key:k},[p(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":c=>a.type=c,onChange:c=>D(a)},[(s(!0),o(v,null,f(t(Z).phoneNumberTypes,c=>(s(),o("md-select-option",{key:c,value:c},[e("div",Vs,u(V(a,c,"phone_number_type")),1)],8,Ts))),128))],40,qs),[[b,a.type,void 0,{number:!0}]]),p(e("md-outlined-text-field",{placeholder:l.$t("telephone"),"onUpdate:modelValue":c=>a.value=c,class:"flex-3"},null,8,Us),[[b,a.value]]),e("div",Ls,[d.phoneNumbers.length>1?(s(),o("button",{key:0,class:"btn-icon",onClick:c=>L(d.phoneNumbers,k)},[xs,h(y)],8,Ss)):N("",!0)])]))),128)),d.emails.length?(s(),o("label",Is,u(l.$t("email")),1)):N("",!0),(s(!0),o(v,null,f(d.emails,(a,k)=>(s(),o("div",{class:"form-row",key:k},[p(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":c=>a.type=c,onChange:c=>D(a)},[(s(!0),o(v,null,f(t(Z).emailTypes,c=>(s(),o("md-select-option",{key:c,value:c},[e("div",Ds,u(V(a,c,"email_type")),1)],8,Ms))),128))],40,As),[[b,a.type,void 0,{number:!0}]]),p(e("md-outlined-text-field",{label:l.$t("email"),"onUpdate:modelValue":c=>a.value=c,class:"flex-3"},null,8,zs),[[b,a.value]]),e("div",Fs,[e("button",{class:"btn-icon",onClick:c=>L(d.emails,k)},[Bs,h(y)],8,Es)])]))),128)),d.addresses.length?(s(),o("label",Qs,u(l.$t("address")),1)):N("",!0),(s(!0),o(v,null,f(d.addresses,(a,k)=>(s(),o("div",{class:"form-row",key:k},[p(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":c=>a.type=c,onChange:c=>D(a)},[(s(!0),o(v,null,f(t(Z).addressTypes,c=>(s(),o("md-select-option",{key:c,value:c},[e("div",Rs,u(V(a,c,"address_type")),1)],8,Os))),128))],40,Ks),[[b,a.type,void 0,{number:!0}]]),p(e("md-outlined-text-field",{label:l.$t("address"),"onUpdate:modelValue":c=>a.value=c,class:"flex-3"},null,8,js),[[b,a.value]]),e("div",Gs,[e("button",{class:"btn-icon",onClick:c=>L(d.addresses,k)},[Ws,h(y)],8,Hs)])]))),128)),d.websites.length?(s(),o("label",Js,u(l.$t("website")),1)):N("",!0),(s(!0),o(v,null,f(d.websites,(a,k)=>(s(),o("div",{class:"form-row",key:k},[p(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":c=>a.type=c,onChange:c=>D(a)},[(s(!0),o(v,null,f(t(Z).websiteTypes,c=>(s(),o("md-select-option",{key:c,value:c},[e("div",Ys,u(V(a,c,"website_type")),1)],8,Xs))),128))],40,Ps),[[b,a.type,void 0,{number:!0}]]),p(e("md-outlined-text-field",{placeholder:l.$t("website"),"onUpdate:modelValue":c=>a.value=c,class:"flex-3"},null,8,Zs),[[b,a.value]]),e("div",eo,[e("button",{class:"btn-icon",onClick:c=>L(d.websites,k)},[so,h(y)],8,to)])]))),128)),d.ims.length?(s(),o("label",oo,u(l.$t("im")),1)):N("",!0),(s(!0),o(v,null,f(d.ims,(a,k)=>(s(),o("div",{class:"form-row",key:k},[p(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":c=>a.type=c,onChange:c=>D(a)},[(s(!0),o(v,null,f(t(Z).imTypes,c=>(s(),o("md-select-option",{key:c,value:c},[e("div",ao,u(V(a,c,"im_type")),1)],8,no))),128))],40,lo),[[b,a.type,void 0,{number:!0}]]),p(e("md-outlined-text-field",{placeholder:l.$t("im"),"onUpdate:modelValue":c=>a.value=c,class:"flex-3"},null,8,io),[[b,a.value]]),e("div",co,[e("button",{class:"btn-icon",onClick:c=>L(d.ims,k)},[ro,h(y)],8,uo)])]))),128)),e("div",_o,[h(X,{placement:"auto"},{content:ge(a=>[e("div",po,[e("md-menu-item",{onClick:()=>z(a,d.phoneNumbers)},[e("div",vo,u(l.$t("phone_number")),1)],8,mo),e("md-menu-item",{onClick:()=>z(a,d.emails)},[e("div",fo,u(l.$t("email")),1)],8,ho),e("md-menu-item",{onClick:()=>z(a,d.addresses)},[e("div",$o,u(l.$t("address")),1)],8,bo),e("md-menu-item",{onClick:()=>z(a,d.websites)},[e("div",ko,u(l.$t("website")),1)],8,yo),e("md-menu-item",{onClick:()=>z(a,d.ims)},[e("div",Co,u(l.$t("im")),1)],8,go)])]),default:ge(()=>[e("div",null,[e("md-outlined-button",null,u(l.$t("add_field")),1)])]),_:1})]),e("div",wo,[p(e("md-outlined-text-field",{type:"textarea",label:l.$t("notes"),"onUpdate:modelValue":r[7]||(r[7]=a=>d.notes=a),rows:"3"},null,8,No),[[b,d.notes]])])]),e("div",qo,[e("md-outlined-button",{value:"cancel",onClick:r[8]||(r[8]=(...a)=>t(R)&&t(R)(...a))},u(l.$t("cancel")),1),e("md-filled-button",{value:"save",disabled:t($)||t(w),onClick:r[9]||(r[9]=(...a)=>t(ee)&&t(ee)(...a)),autofocus:""},[t($)||t(w)?(s(),o("md-circular-progress",Vo)):N("",!0),ce(" "+u(l.$t("save")),1)],8,To)])])}}}),Q=g=>(wt("data-v-ece10ea2"),g=g(),Nt(),g),Uo={class:"top-app-bar"},Lo=["checked","indeterminate"],So={class:"title"},xo={key:0},Io={key:1},Ao=Q(()=>e("md-ripple",null,null,-1)),Mo={class:"btn-icon",style:{display:"none"}},Do=Q(()=>e("md-ripple",null,null,-1)),zo=Q(()=>e("md-ripple",null,null,-1)),Fo={class:"actions"},Eo={class:"scroll-content"},Bo=["onClick","onMouseover"],Qo={class:"start"},Ko=["onClick","checked"],Oo=["onClick","checked"],Ro={class:"number"},jo=["src"],Go={class:"title"},Ho={class:"subtitle"},Wo={key:0},Jo={class:"info"},Po={class:"list-unstyled"},Xo={key:0,indeterminate:"",class:"spinner-sm"},Yo=["onClick"],Zo=Q(()=>e("md-ripple",null,null,-1)),el={class:"actions"},tl=["onClick"],sl=Q(()=>e("md-ripple",null,null,-1)),ol=["onClick"],ll=Q(()=>e("md-ripple",null,null,-1)),nl=["onClick"],al=Q(()=>e("md-ripple",null,null,-1)),dl={class:"time"},il={class:"start"},cl=Q(()=>e("div",{class:"checkbox"},[e("div",{class:"skeleton-checkbox"})],-1)),ul={class:"number"},rl=qt('<div class="image" data-v-ece10ea2><div class="skeleton-image" data-v-ece10ea2></div></div><div class="title" data-v-ece10ea2><div class="skeleton-text skeleton-title" data-v-ece10ea2></div></div><div class="subtitle" data-v-ece10ea2><div class="skeleton-text skeleton-subtitle" data-v-ece10ea2></div></div><div class="info" data-v-ece10ea2><div class="skeleton-text skeleton-info" data-v-ece10ea2></div></div><div class="actions" data-v-ece10ea2><div class="skeleton-text skeleton-actions" data-v-ece10ea2></div></div><div class="time" data-v-ece10ea2><div class="skeleton-text skeleton-time" data-v-ece10ea2></div></div>',6),_l={key:0,class:"no-data-placeholder"},J=50,pl=ue({__name:"ContactsView",setup(g){var ye;const x=nt(),{app:q}=at(dt()),d=B([]),{t:C}=Se(),{parseQ:K}=Ot(),A=Le({tagIds:[]}),$=it.CONTACT,U=pt(),T=U.query,w=B(parseInt(((ye=T.page)==null?void 0:ye.toString())??"1")),P=B([]),O=B(""),{tags:j,fetch:re}=Ft($),{addToTags:M}=Et($,j),{deleteItems:D}=Bt(mt,()=>{r(),G(),H.emit("refetch_tags",$)}),{selectedIds:V,allChecked:z,realAllChecked:L,selectRealAll:ee,allCheckedAlertVisible:l,clearSelection:r,toggleAllChecked:S,toggleSelect:te,total:y,checked:X,shiftEffectingIds:a,handleItemClick:k,handleMouseOver:c,selectAll:Me,shouldSelect:De}=Qt(d),_e=n=>{const m=U.query.q;vt(x,m?`/calls?page=${n}&q=${m}`:`/calls?page=${n}`)},{keyDown:pe,keyUp:me}=Kt(y,J,w,Me,r,_e,()=>{D(V.value,L.value,y.value,O.value)}),{loading:ne,fetch:G}=ct({handle:(n,m)=>{m?Ne(C(m),"error"):n&&(d.value=n.contacts,y.value=n.contactCount)},document:ht,variables:()=>({offset:(w.value-1)*J,limit:J,query:O.value}),appApi:!0});ut({handle:(n,m)=>{m?Ne(C(m),"error"):n&&(P.value=n.contactSources)},document:ft,variables:null,appApi:!0});const ve=n=>{n.type===$&&(r(),G())},he=n=>{n.type===$&&G()};function ze(n){le(Tt,{type:$,tags:j.value,item:{key:n.id,title:"",size:0},selected:j.value.filter(m=>n.tags.some(F=>F.id===m.id))})}function fe(n){let m="";qe(n.firstName)||qe(n.lastName)?m=`${n.lastName}${n.middleName}${n.firstName}`:m=[n.firstName,n.middleName,n.lastName].filter(oe=>oe).join(" ");const F=n.suffix?`, ${n.suffix}`:"",se=`${n.prefix} ${m} ${F}`.trim();return se||(n.emails.length?n.emails[0].value:"")}function Fe(n){le(Vt,{id:n.id,name:fe(n),gql:ie`
      mutation DeleteContact($query: String!) {
        deleteContacts(query: $query)
      }
    `,variables:()=>({query:`ids:${n.id}`}),appApi:!0,typeName:"Contact",done:()=>{y.value--,n.tags.length&&H.emit("refetch_tags",$)}})}function Ee(n){le(Te,{data:n,sources:P,done:G})}function Be(){le(Te,{data:null,sources:P,done:G})}function Qe(n){return n?`/contacts?q=${n}`:"/contacts"}const be=B(""),$e=B(0),{mutate:Ke,loading:Oe}=de({document:bt,appApi:!0});function Re(n,m,F){be.value=n,$e.value=F,Ke({number:m})}return rt(()=>{var n;O.value=Ut(((n=T.q)==null?void 0:n.toString())??""),K(A,O.value),re(),G(),H.on("item_tags_updated",he),H.on("items_tags_updated",ve),window.addEventListener("keydown",pe),window.addEventListener("keyup",me)}),_t(()=>{H.off("item_tags_updated",he),H.off("items_tags_updated",ve),window.removeEventListener("keydown",pe),window.removeEventListener("keyup",me)}),(n,m)=>{const F=xe,se=Lt,oe=St,je=Dt,Ge=zt,He=xt,We=Mt,Je=It,Pe=At,Xe=Wt,Ye=Ze,E=$t("tooltip");return s(),o(v,null,[e("div",Uo,[e("md-checkbox",{"touch-target":"wrapper",onChange:m[0]||(m[0]=(..._)=>t(S)&&t(S)(..._)),checked:t(z),indeterminate:!t(z)&&t(X)},null,40,Lo),e("div",So,[t(V).length?(s(),o("span",xo,u(n.$t("x_selected",{count:t(L)?t(y).toLocaleString():t(V).length.toLocaleString()})),1)):(s(),o("span",Io,u(n.$t("page_title.contacts"))+" ("+u(t(y).toLocaleString())+")",1)),t(X)?(s(),o(v,{key:2},[p((s(),o("button",{class:"btn-icon",onClick:m[1]||(m[1]=I(_=>t(D)(t(V),t(L),t(y),O.value),["stop"]))},[Ao,h(F)])),[[E,n.$t("delete")]]),p((s(),o("button",Mo,[Do,h(se)])),[[E,n.$t("download")]]),p((s(),o("button",{class:"btn-icon",onClick:m[2]||(m[2]=I(_=>t(M)(t(V),t(L),O.value),["stop"]))},[zo,h(oe)])),[[E,n.$t("add_to_tags")]])],64)):N("",!0)]),e("div",Fo,[h(je,{filter:A,tags:t(j),"get-url":Qe},null,8,["filter","tags"]),e("md-outlined-button",{class:"btn-sm",onClick:Be},u(n.$t("create")),1)])]),h(Ge,{limit:J,total:t(y),"all-checked-alert-visible":t(l),"real-all-checked":t(L),"select-real-all":t(ee),"clear-selection":t(r)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),e("div",Eo,[e("div",{class:Ce(["contact-list",{"select-mode":t(X)}])},[(s(!0),o(v,null,f(d.value,(_,Y)=>(s(),o("section",{class:Ce(["contact-item selectable-card",{selected:t(V).includes(_.id),selecting:t(a).includes(_.id)}]),key:_.id,onClick:I(i=>t(k)(i,_,Y,()=>{}),["stop"]),onMouseover:i=>t(c)(i,Y)},[e("div",Qo,[t(a).includes(_.id)?(s(),o("md-checkbox",{key:0,class:"checkbox","touch-target":"wrapper",onClick:I(i=>t(te)(i,_,Y),["stop"]),checked:t(De)},null,8,Ko)):(s(),o("md-checkbox",{key:1,class:"checkbox","touch-target":"wrapper",onClick:I(i=>t(te)(i,_,Y),["stop"]),checked:t(V).includes(_.id)},null,8,Oo)),e("span",Ro,[h(He,{id:Y+1,raw:_},null,8,["id","raw"])])]),_.thumbnailId?(s(),o("img",{key:0,class:"image",src:t(yt)(_.thumbnailId),width:"50"},null,8,jo)):(s(),we(We,{key:1,class:"image"})),e("div",Go,u(fe(_)),1),e("div",Ho,[_.notes?(s(),o("span",Wo,u(_.notes),1)):N("",!0),h(Je,{tags:_.tags,type:t($),"only-links":!0},null,8,["tags","type"])]),e("div",Jo,[e("ul",Po,[(s(!0),o(v,null,f(_.phoneNumbers,(i,ae)=>(s(),o("li",{class:"phone-number",key:ae},[ce(u(i.type>0?n.$t(`contact.phone_number_type.${i.type}`):i.label)+" "+u(i.normalizedNumber||i.value)+" ",1),t(Oe)&&be.value===_.id&&$e.value===ae?(s(),o("md-circular-progress",Xo)):p((s(),o("button",{key:1,class:"btn-icon sm",onClick:I(ml=>Re(_.id,i.normalizedNumber||i.value,ae),["stop"])},[Zo,h(Pe)],8,Yo)),[[E,n.$t("make_a_phone_call")]])]))),128)),(s(!0),o(v,null,f(_.emails,i=>(s(),o("li",{key:i.type+i.value},u(i.type>0?n.$t(`contact.email_type.${i.type}`):i.label)+" "+u(i.value),1))),128)),(s(!0),o(v,null,f(_.addresses,i=>(s(),o("li",{key:i.type+i.value},u(i.type>0?n.$t(`contact.address_type.${i.type}`):i.label)+" "+u(i.value),1))),128)),(s(!0),o(v,null,f(_.websites,i=>(s(),o("li",{key:i.type+i.value},u(i.type>0?n.$t(`contact.website_type.${i.type}`):i.label)+" "+u(i.value),1))),128)),(s(!0),o(v,null,f(_.ims,i=>(s(),o("li",{key:i.type+i.value},u(i.type>0?n.$t(`contact.im_type.${i.type}`):i.label)+" "+u(i.value),1))),128)),(s(!0),o(v,null,f(_.events,i=>(s(),o("li",{key:i.type+i.value},u(i.type>0?n.$t(`contact.event_type.${i.type}`):i.label)+" "+u(i.value),1))),128))])]),e("div",el,[p((s(),o("button",{class:"btn-icon sm",onClick:I(i=>Fe(_),["stop"])},[sl,h(F)],8,tl)),[[E,n.$t("delete")]]),p((s(),o("button",{class:"btn-icon sm",onClick:I(i=>Ee(_),["stop"])},[ll,h(Xe)],8,ol)),[[E,n.$t("edit")]]),p((s(),o("button",{class:"btn-icon sm",onClick:I(i=>ze(_),["stop"])},[al,h(oe)],8,nl)),[[E,n.$t("add_to_tags")]])]),e("div",dl,[p((s(),o("span",null,[ce(u(t(gt)(_.updatedAt)),1)])),[[E,t(kt)(_.updatedAt)]])])],42,Bo))),128)),t(ne)&&d.value.length===0?(s(),o(v,{key:0},f(20,_=>e("section",{class:"contact-item selectable-card-skeleton",key:_},[e("div",il,[cl,e("span",ul,u(_),1)]),rl])),64)):N("",!0)],2),!t(ne)&&d.value.length===0?(s(),o("div",_l,u(n.$t(t(Ct)(t(ne),t(q).permissions,"WRITE_CONTACTS"))),1)):N("",!0),t(y)>J?(s(),we(Ye,{key:1,page:w.value,go:_e,total:t(y),limit:J},null,8,["page","total"])):N("",!0)])],64)}}}),ql=Ue(pl,[["__scopeId","data-v-ece10ea2"]]);export{ql as default};
