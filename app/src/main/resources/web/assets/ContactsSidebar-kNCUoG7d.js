import{_ as g}from"./LeftSidebar.vuevuetypescriptsetuptruelang-BWG8gajF.js";import{_ as C}from"./TagFilter.vuevuetypescriptsetuptruelang-DySu9lzm.js";import{d as S,u as y,s as k,i as N,I as T,h as w,K as B,k as I,v as V,q as l,aE as b,a6 as u,a0 as q,o as p,V as A,t as c,a as n,w as $,N as L,m,c as Q,e as R,p as x,f as z}from"./index-R8dLcqG_.js";import{u as E}from"./search-ByVbj6Ls.js";import"./more-vert-zjmMMiPD.js";import"./EditValueModal-O1aAFYgx.js";import"./vee-validate.esm-vpr6zxQb.js";const M={class:"nav"},D={class:"title"},G={key:0,class:"count"},W=S({__name:"ContactsSidebar",setup(K){const _=y(),{counter:a}=k(N()),{parseQ:d}=E(),s=T({tagIds:[]}),o=w(""),{fetch:f}=B({handle:t=>{t&&(a.value.contacts=t.total)},document:b,variables:()=>({}),appApi:!0});function r(){var e;const t=u.currentRoute.value,i=q(((e=t.query.q)==null?void 0:e.toString())??"");d(s,i),o.value=s.tagIds.length===1?s.tagIds[0]:"",f()}r(),I(()=>u.currentRoute.value,()=>{r()});function v(){z(_,"/contacts")}return(t,i)=>{const e=C,h=g;return p(),V(h,null,{title:l(()=>[A(c(t.$t("page_title.contacts")),1)]),body:l(()=>[n("ul",M,[n("li",{onClick:$(v,["prevent"]),class:L({active:!o.value})},[n("span",D,c(t.$t("all")),1),m(a).contacts>=0?(p(),Q("span",G,c(m(a).contacts.toLocaleString()),1)):R("",!0)],2)]),x(e,{type:"CONTACT",selected:o.value},null,8,["selected"])]),_:1})}}});export{W as default};
