import{_ as I}from"./LeftSidebar.vuevuetypescriptsetuptruelang-B6Ke7euJ.js";import{_ as L}from"./TagFilter.vuevuetypescriptsetuptruelang-uBMdMrN4.js";import{d as M,u as N,s as V,i as Q,I as A,h as m,K as R,k as x,v as z,q as g,a5 as P,a6 as y,a0 as D,o as u,V as E,t,a,w as h,N as S,m as k,c as _,e as C,P as F,O as G,p as K,a7 as O,f as $,a8 as j}from"./index-Dn0O6zoH.js";import{u as H}from"./search-DrT1IjAg.js";import"./more-vert-De1QBMLo.js";import"./EditValueModal-Du2st8tU.js";import"./vee-validate.esm-0lx5owW0.js";const J={class:"nav"},U={class:"title"},W={key:0,class:"count"},X=["onClick"],Y={class:"title"},Z={key:0,class:"count"},ie=M({__name:"MessagesSidebar",setup(ee){const d=N(),{counter:p}=V(Q()),{parseQ:B}=H(),o=A({tagIds:[]}),n=m(""),c=m(""),r=m(new Map),{fetch:b}=R({handle:e=>{e&&(p.value.messages=e.total,r.value.set("1",e.inbox),r.value.set("2",e.sent),r.value.set("3",e.drafts))},document:P,variables:()=>({}),appApi:!0});function v(e){return r.value.get(e)??-1}function f(){var i;const e=y.currentRoute.value,l=D(((i=e.query.q)==null?void 0:i.toString())??"");B(o,l),n.value=o.type??"",c.value=o.tagIds.length===1?o.tagIds[0]:"",n.value&&(c.value=""),b()}f(),x(()=>y.currentRoute.value,()=>{f()});function q(e){const l=O([{name:"type",op:"",value:e}]);$(d,`/messages?q=${j(l)}`)}function w(){$(d,"/messages")}return(e,l)=>{const i=L,T=I;return u(),z(T,null,{title:g(()=>[E(t(e.$t("page_title.messages")),1)]),body:g(()=>[a("ul",J,[a("li",{onClick:h(w,["prevent"]),class:S({active:!c.value&&!n.value})},[a("span",U,t(e.$t("all")),1),k(p).messages>=0?(u(),_("span",W,t(k(p).messages.toLocaleString()),1)):C("",!0)],2),(u(),_(G,null,F(["1","2","3"],s=>a("li",{key:s,onClick:h(se=>q(s),["prevent"]),class:S({active:s===n.value})},[a("span",Y,t(e.$t(`message_type.${s}`)),1),v(s)>=0?(u(),_("span",Z,t(v(s).toLocaleString()),1)):C("",!0)],10,X)),64))]),K(i,{type:"SMS",selected:c.value},null,8,["selected"])]),_:1})}}});export{ie as default};
