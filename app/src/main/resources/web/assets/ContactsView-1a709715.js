import{c as Je,u as We,_ as Xe,a as Ye,b as Pe}from"./list-8dce60e6.js";import{o,e as n,f as e,d as de,r as I,ak as Ne,al as E,O as qe,t as u,L as m,R as f,h as i,am as et,an as tt,_ as Ve,B as Te,u as Ue,a2 as se,ao as fe,ap as be,j as T,x as h,F as v,A as b,y as ae,aq as lt,aa as Ie,ar as ot,a as nt,s as st,c as at,D as dt,p as it,C as ut,E as rt,i as ct,G as _t,H as pt,I as G,J as mt,K as ht,w as B,M as vt,N as ft,as as bt,k as $e,at as $t,au as yt,n as ye,Q as ge,Y as te,a5 as gt,z as kt,av as Ct,g as ke,T as wt,U as Nt,V as qt,aw as Vt,ax as Tt,X as Ut,Z as It,ay as Ce,W as At,a8 as St,a9 as Dt,aj as Lt,$ as Mt,a0 as Ft,a1 as xt}from"./index-e23e99bf.js";import{_ as Rt}from"./call-outline-rounded-c01c07d7.js";import{_ as Bt}from"./Breadcrumb-ba8f6aaf.js";import{u as Ae,a as Se}from"./vee-validate.esm-36997df0.js";import{u as Qt,a as zt}from"./tags-da373bca.js";const Zt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},jt=e("path",{fill:"currentColor",d:"m19.3 8.925l-4.25-4.2l1.4-1.4q.575-.575 1.413-.575t1.412.575l1.4 1.4q.575.575.6 1.388t-.55 1.387L19.3 8.925ZM17.85 10.4L7.25 21H3v-4.25l10.6-10.6l4.25 4.25Z"},null,-1),Et=[jt];function Ot(g,$){return o(),n("svg",Zt,Et)}const Gt={name:"material-symbols-edit",render:Ot},Ht={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Kt=e("path",{fill:"currentColor",d:"M6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 7.825L8.1 11.7q-.275.275-.688.288T6.7 11.7Zm0 6q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212t.375-.063q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 13.825L8.1 17.7q-.275.275-.688.288T6.7 17.7Z"},null,-1),Jt=[Kt];function Wt(g,$){return o(),n("svg",Ht,Jt)}const Xt={name:"material-symbols-keyboard-double-arrow-up-rounded",render:Wt},Yt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Pt=e("path",{fill:"currentColor",d:"M12 12.575q-.2 0-.375-.062T11.3 12.3L6.7 7.7q-.275-.275-.288-.688T6.7 6.3q.275-.275.7-.275t.7.275l3.9 3.875L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Zm0 6q-.2 0-.375-.062T11.3 18.3l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275l3.9 3.875l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Z"},null,-1),el=[Pt];function tl(g,$){return o(),n("svg",Yt,el)}const ll={name:"material-symbols-keyboard-double-arrow-down-rounded",render:tl};function H(g){return Array.from({length:g},($,Q)=>Q+1).concat(-1)}const X={phoneNumberTypes:H(20),emailTypes:H(4),addressTypes:H(3),eventTypes:H(3),imTypes:H(8),websiteTypes:H(7)},ol={slot:"headline"},nl={slot:"content"},sl=["error","error-text"],al={slot:"actions"},dl=de({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(g){const $=g,{handleSubmit:Q}=Ae(),d=I(),{value:C,resetField:M,errorMessage:w}=Se("inputValue",Ne().required()),k=Q(()=>{$.do(C.value??""),E()});return C.value=$.value,$.value||M(),(async()=>{var S;await qe(),(S=d.value)==null||S.focus()})(),(S,q)=>(o(),n("md-dialog",null,[e("div",ol,u(g.title),1),e("div",nl,[m(e("md-outlined-text-field",{ref_key:"inputRef",ref:d,class:"form-control",error:i(w),"error-text":i(w)?S.$t(i(w)):"","onUpdate:modelValue":q[0]||(q[0]=N=>et(C)?C.value=N:null),onKeyup:q[1]||(q[1]=tt((...N)=>i(k)&&i(k)(...N),["enter"]))},null,40,sl),[[f,i(C)]])]),e("div",al,[e("md-outlined-button",{value:"cancel",onClick:q[2]||(q[2]=(...N)=>i(E)&&i(E)(...N))},u(S.$t("cancel")),1),e("md-filled-button",{value:"ok",onClick:q[3]||(q[3]=(...N)=>i(k)&&i(k)(...N)),autofocus:""},u(S.$t("ok")),1)])]))}});const il=Ve(dl,[["__scopeId","data-v-263cf3df"]]),ul={slot:"headline"},rl={slot:"content"},cl={class:"form-label"},_l={class:"form-row"},pl=["label"],ml=["label"],hl=["label"],vl={key:1,class:"v-center"},fl=e("md-ripple",null,null,-1),bl={key:0,class:"form-row"},$l=["label"],yl=["label"],gl={class:"v-center"},kl=e("md-ripple",null,null,-1),Cl={class:"form-label"},wl=["onUpdate:modelValue","onChange"],Nl=["value"],ql={slot:"headline"},Vl=["placeholder","onUpdate:modelValue"],Tl={class:"v-center"},Ul=["onClick"],Il=e("md-ripple",null,null,-1),Al={key:1,class:"form-label"},Sl=["onUpdate:modelValue","onChange"],Dl=["value"],Ll={slot:"headline"},Ml=["label","onUpdate:modelValue"],Fl={class:"v-center"},xl=["onClick"],Rl=e("md-ripple",null,null,-1),Bl={key:2,class:"form-label"},Ql=["onUpdate:modelValue","onChange"],zl=["value"],Zl={slot:"headline"},jl=["label","onUpdate:modelValue"],El={class:"v-center"},Ol=["onClick"],Gl=e("md-ripple",null,null,-1),Hl={key:3,class:"form-label"},Kl=["onUpdate:modelValue","onChange"],Jl=["value"],Wl={slot:"headline"},Xl=["placeholder","onUpdate:modelValue"],Yl={class:"v-center"},Pl=["onClick"],eo=e("md-ripple",null,null,-1),to={key:4,class:"form-label"},lo=["onUpdate:modelValue","onChange"],oo=["value"],no={slot:"headline"},so=["placeholder","onUpdate:modelValue"],ao={class:"v-center"},io=["onClick"],uo=e("md-ripple",null,null,-1),ro={class:"form-row",style:{display:"block",position:"relative"}},co={class:"menu-items"},_o=["onClick"],po={slot:"headline"},mo=["onClick"],ho={slot:"headline"},vo=["onClick"],fo={slot:"headline"},bo=["onClick"],$o={slot:"headline"},yo=["onClick"],go={slot:"headline"},ko={class:"form-row"},Co=["label"],wo={slot:"actions"},No=["disabled"],we=de({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(g){const $=g,{handleSubmit:Q}=Ae(),d=Te({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),C=I(!1),{t:M}=Ue(),{mutate:w,loading:k,onDone:S}=se({document:fe`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${be}
  `,options:{update:()=>{$.done()}},appApi:!0}),{mutate:q,loading:N,onDone:K}=se({document:fe`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${be}
  `,options:{update:()=>{$.done()}},appApi:!0}),{value:z,resetField:O,errorMessage:J}=Se("inputValue",Ne().test("required",l=>"valid.required",l=>!0).test("target-value",l=>"invalid_value",l=>!0)),F=(l,_)=>{l.splice(0,l.length);for(const U of _)l.push({label:U.label,value:U.value,type:U.type})};(()=>{const l=$.data;l?(Object.assign(d,{firstName:l.firstName,middleName:l.middleName,lastName:l.lastName,prefix:l.prefix,suffix:l.suffix,notes:l.notes}),F(d.phoneNumbers,l.phoneNumbers),F(d.emails,l.emails),F(d.addresses,l.addresses),F(d.websites,l.websites),F(d.events,l.events),F(d.ims,l.ims)):(Object.assign(d,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),O())})();const Z=l=>{l.type===-1&&lt(il,{value:l.label,title:M("custom"),do:_=>{l.label=_}})},x=(l,_,U)=>_===-1?l.label?l.label:M("custom"):M(`contact.${U}.${_}`),D=(l,_)=>{_.push({type:1,value:"",label:""}),l.close()},j=(l,_)=>{l.splice(_,1)},P=Q(()=>{var l,_;$.data?q({id:$.data.id,input:d}):(d.source=((_=(l=$.sources)==null?void 0:l[0])==null?void 0:_.name)??"",w({input:d}))});return S(()=>{E()}),K(()=>{E()}),(l,_)=>{const U=ll,le=Xt,V=Ie,ee=ot;return o(),n("md-dialog",null,[e("div",ul,u(g.data?l.$t("edit"):l.$t("create")),1),e("div",rl,[e("label",cl,u(l.$t("name")),1),e("div",_l,[m(e("md-outlined-text-field",{label:l.$t("first_name"),"onUpdate:modelValue":_[0]||(_[0]=s=>d.firstName=s)},null,8,pl),[[f,d.firstName]]),C.value?m((o(),n("md-outlined-text-field",{key:0,label:l.$t("middle_name"),"onUpdate:modelValue":_[1]||(_[1]=s=>d.middleName=s)},null,8,ml)),[[f,d.middleName]]):T("",!0),m(e("md-outlined-text-field",{label:l.$t("last_name"),"onUpdate:modelValue":_[2]||(_[2]=s=>d.lastName=s)},null,8,hl),[[f,d.lastName]]),C.value?T("",!0):(o(),n("div",vl,[e("button",{class:"icon-button",onClick:_[3]||(_[3]=s=>C.value=!0)},[fl,h(U)])]))]),C.value?(o(),n("div",bl,[m(e("md-outlined-text-field",{label:l.$t("prefix"),"onUpdate:modelValue":_[4]||(_[4]=s=>d.prefix=s)},null,8,$l),[[f,d.prefix]]),m(e("md-outlined-text-field",{label:l.$t("suffix"),"onUpdate:modelValue":_[5]||(_[5]=s=>d.suffix=s)},null,8,yl),[[f,d.suffix]]),e("div",gl,[e("button",{class:"icon-button",onClick:_[6]||(_[6]=s=>C.value=!1)},[kl,h(le)])])])):T("",!0),e("label",Cl,u(l.$t("phone_number")),1),(o(!0),n(v,null,b(d.phoneNumbers,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>Z(s)},[(o(!0),n(v,null,b(i(X).phoneNumberTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",ql,u(x(s,a,"phone_number_type")),1)],8,Nl))),128))],40,wl),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("telephone"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Vl),[[f,s.value]]),e("div",Tl,[d.phoneNumbers.length>1?(o(),n("button",{key:0,class:"icon-button",onClick:a=>j(d.phoneNumbers,y)},[Il,h(V)],8,Ul)):T("",!0)])]))),128)),d.emails.length?(o(),n("label",Al,u(l.$t("email")),1)):T("",!0),(o(!0),n(v,null,b(d.emails,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>Z(s)},[(o(!0),n(v,null,b(i(X).emailTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",Ll,u(x(s,a,"email_type")),1)],8,Dl))),128))],40,Sl),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{label:l.$t("email"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Ml),[[f,s.value]]),e("div",Fl,[e("button",{class:"icon-button",onClick:a=>j(d.emails,y)},[Rl,h(V)],8,xl)])]))),128)),d.addresses.length?(o(),n("label",Bl,u(l.$t("address")),1)):T("",!0),(o(!0),n(v,null,b(d.addresses,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>Z(s)},[(o(!0),n(v,null,b(i(X).addressTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",Zl,u(x(s,a,"address_type")),1)],8,zl))),128))],40,Ql),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{label:l.$t("address"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,jl),[[f,s.value]]),e("div",El,[e("button",{class:"icon-button",onClick:a=>j(d.addresses,y)},[Gl,h(V)],8,Ol)])]))),128)),d.websites.length?(o(),n("label",Hl,u(l.$t("website")),1)):T("",!0),(o(!0),n(v,null,b(d.websites,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>Z(s)},[(o(!0),n(v,null,b(i(X).websiteTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",Wl,u(x(s,a,"website_type")),1)],8,Jl))),128))],40,Kl),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("website"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Xl),[[f,s.value]]),e("div",Yl,[e("button",{class:"icon-button",onClick:a=>j(d.websites,y)},[eo,h(V)],8,Pl)])]))),128)),d.ims.length?(o(),n("label",to,u(l.$t("im")),1)):T("",!0),(o(!0),n(v,null,b(d.ims,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>Z(s)},[(o(!0),n(v,null,b(i(X).imTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",no,u(x(s,a,"im_type")),1)],8,oo))),128))],40,lo),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("im"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,so),[[f,s.value]]),e("div",ao,[e("button",{class:"icon-button",onClick:a=>j(d.ims,y)},[uo,h(V)],8,io)])]))),128)),e("div",ro,[h(ee,{placement:"auto"},{content:ae(s=>[e("div",co,[e("md-menu-item",{onClick:()=>D(s,d.phoneNumbers)},[e("div",po,u(l.$t("phone_number")),1)],8,_o),e("md-menu-item",{onClick:()=>D(s,d.emails)},[e("div",ho,u(l.$t("email")),1)],8,mo),e("md-menu-item",{onClick:()=>D(s,d.addresses)},[e("div",fo,u(l.$t("address")),1)],8,vo),e("md-menu-item",{onClick:()=>D(s,d.websites)},[e("div",$o,u(l.$t("website")),1)],8,bo),e("md-menu-item",{onClick:()=>D(s,d.ims)},[e("div",go,u(l.$t("im")),1)],8,yo)])]),default:ae(()=>[e("div",null,[e("md-outlined-button",null,u(l.$t("add_field")),1)])]),_:1})]),e("div",ko,[m(e("md-outlined-text-field",{type:"textarea",label:l.$t("notes"),"onUpdate:modelValue":_[7]||(_[7]=s=>d.notes=s),rows:"3"},null,8,Co),[[f,d.notes]])])]),e("div",wo,[e("md-outlined-button",{value:"cancel",onClick:_[8]||(_[8]=(...s)=>i(E)&&i(E)(...s))},u(l.$t("cancel")),1),e("md-filled-button",{value:"save",disabled:i(k)||i(N),onClick:_[9]||(_[9]=(...s)=>i(P)&&i(P)(...s)),autofocus:""},u(l.$t("save")),9,No)])])}}}),A=g=>(Vt("data-v-03a2b02e"),g=g(),Tt(),g),qo={class:"v-toolbar"},Vo=A(()=>e("md-ripple",null,null,-1)),To={class:"icon-button",style:{display:"none"}},Uo=A(()=>e("md-ripple",null,null,-1)),Io=A(()=>e("md-ripple",null,null,-1)),Ao={class:"filters"},So=["label"],Do={class:"form-label"},Lo=["label","selected","onClick"],Mo={class:"buttons"},Fo=["onClick"],xo={class:"table-responsive"},Ro={class:"table"},Bo=["checked","indeterminate"],Qo=A(()=>e("th",null,"ID",-1)),zo=A(()=>e("th",null,null,-1)),Zo=A(()=>e("th",null,null,-1)),jo=["onClick"],Eo=["checked"],Oo=["src"],Go={class:"nowrap"},Ho={class:"nowrap"},Ko={class:"list-unstyled"},Jo={key:0,indeterminate:"",class:"spinner-sm"},Wo=["onClick"],Xo=A(()=>e("md-ripple",null,null,-1)),Yo={class:"nowrap"},Po={class:"action-btns"},en=["onClick"],tn=A(()=>e("md-ripple",null,null,-1)),ln=["onClick"],on=A(()=>e("md-ripple",null,null,-1)),nn=["onClick"],sn=A(()=>e("md-ripple",null,null,-1)),an={class:"nowrap"},dn={key:0},un={colspan:"9"},rn={class:"no-data-placeholder"},Y=50,cn=de({__name:"ContactsView",setup(g){var me,he;const $=nt(),{app:Q}=st(at()),d=I([]),C=I(),{t:M}=Ue(),w=Te({text:"",tags:[]}),k=dt.CONTACT,q=it().query,N=I(parseInt(((me=q.page)==null?void 0:me.toString())??"1")),K=I([]),z=I(ut(((he=q.q)==null?void 0:he.toString())??"")),O=I(""),{tags:J}=Qt(k,z,w,async t=>{O.value=ft(t),await qe(),y()}),{addToTags:F}=zt(k,d,J),{deleteItems:Z}=Je(bt,()=>{l(),a(),G.emit("refetch_tags",k)},d),{allChecked:x,realAllChecked:D,selectRealAll:j,allCheckedAlertVisible:P,clearSelection:l,toggleAllChecked:_,toggleItemChecked:U,toggleRow:le,total:V,checked:ee}=We(d),{loading:s,load:y,refetch:a}=rt({handle:(t,p)=>{p?$e(M(p),"error"):t&&(d.value=t.contacts.map(L=>({...L,checked:!1})),V.value=t.contactCount)},document:$t,variables:()=>({offset:(N.value-1)*Y,limit:Y,query:O.value}),appApi:!0});ct({handle:(t,p)=>{p?$e(M(p),"error"):t&&(K.value=t.contactSources)},document:yt,variables:null,appApi:!0}),_t(N,t=>{ye($,`/contacts?page=${t}&q=${ge(z.value)}`)});function De(){z.value=Ut(w),ie(),C.value.dismiss()}function ie(){ye($,`/contacts?q=${ge(z.value)}`)}const ue=t=>{t.type===k&&(l(),a())},re=t=>{t.type===k&&a()};pt(()=>{G.on("item_tags_updated",re),G.on("items_tags_updated",ue)}),mt(()=>{G.off("item_tags_updated",re),G.off("items_tags_updated",ue)});function Le(t){te(It,{type:k,tags:J.value,item:{key:t.id,title:"",size:0},selected:J.value.filter(p=>t.tags.some(L=>L.id===p.id))})}function ce(t){let p="";Ce(t.firstName)||Ce(t.lastName)?p=`${t.lastName}${t.middleName}${t.firstName}`:p=[t.firstName,t.middleName,t.lastName].filter(oe=>oe).join(" ");const L=t.suffix?`, ${t.suffix}`:"",W=`${t.prefix} ${p} ${L}`.trim();return W||(t.emails.length?t.emails[0].value:"")}function Me(t){w.tags.includes(t)?At(w.tags,p=>p.id===t.id):w.tags.push(t)}function Fe(t){te(Dt,{id:t.id,name:ce(t),gql:St`
      mutation DeleteContact($query: String!) {
        deleteContacts(query: $query)
      }
    `,variables:()=>({query:`ids:${t.id}`}),appApi:!0,typeName:"Contact",done:()=>{V.value--,t.tags.length&&G.emit("refetch_tags",k)}})}function xe(t){te(we,{data:t,sources:K,done:a})}function Re(){te(we,{data:null,sources:K,done:a})}const _e=I(""),pe=I(0),{mutate:Be,loading:Qe}=se({document:gt,appApi:!0});function ze(t,p,L){_e.value=t,pe.value=L,Be({number:p})}return(t,p)=>{const L=Bt,W=Ie,oe=Lt,ve=Mt,Ze=Xe,je=Ye,Ee=Ft,Oe=Rt,Ge=Gt,He=xt,Ke=Pe,R=ht("tooltip");return o(),n(v,null,[e("div",qo,[h(L,{current:()=>`${t.$t("page_title.contacts")} (${i(V)})`},null,8,["current"]),i(ee)?(o(),n(v,{key:0},[m((o(),n("button",{class:"icon-button",onClick:p[0]||(p[0]=B(r=>i(Z)(i(D),O.value),["stop"]))},[Vo,h(W)])),[[R,t.$t("delete")]]),m((o(),n("button",To,[Uo,h(oe)])),[[R,t.$t("download")]]),m((o(),n("button",{class:"icon-button",onClick:p[1]||(p[1]=B(r=>i(F)(i(D),O.value),["stop"]))},[Io,h(ve)])),[[R,t.$t("add_to_tags")]])],64)):T("",!0),e("md-outlined-button",{onClick:Re,style:{"margin-inline-start":"16px"}},u(t.$t("create")),1),h(Ze,{ref_key:"searchInputRef",ref:C,modelValue:z.value,"onUpdate:modelValue":p[3]||(p[3]=r=>z.value=r),search:ie},{filters:ae(()=>[e("div",Ao,[m(e("md-outlined-text-field",{label:t.$t("keywords"),"onUpdate:modelValue":p[2]||(p[2]=r=>w.text=r),"keyup.enter":"applyAndDoSearch"},null,8,So),[[f,w.text]]),e("label",Do,u(t.$t("tags")),1),e("md-chip-set",null,[(o(!0),n(v,null,b(i(J),r=>(o(),n("md-filter-chip",{key:r.id,label:r.name,selected:w.tags.includes(r),onClick:c=>Me(r)},null,8,Lo))),128))]),e("div",Mo,[e("md-filled-button",{onClick:B(De,["stop"])},u(t.$t("search")),9,Fo)])])]),_:1},8,["modelValue"])]),h(je,{limit:Y,total:i(V),"all-checked-alert-visible":i(P),"real-all-checked":i(D),"select-real-all":i(j),"clear-selection":i(l)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),e("div",xo,[e("table",Ro,[e("thead",null,[e("tr",null,[e("th",null,[e("md-checkbox",{"touch-target":"wrapper",onChange:p[4]||(p[4]=(...r)=>i(_)&&i(_)(...r)),checked:i(x),indeterminate:!i(x)&&i(ee)},null,40,Bo)]),Qo,e("th",null,u(t.$t("avatar")),1),e("th",null,u(t.$t("name")),1),zo,Zo,e("th",null,u(t.$t("notes")),1),e("th",null,u(t.$t("tags")),1),e("th",null,u(t.$t("updated_at")),1)])]),e("tbody",null,[(o(!0),n(v,null,b(d.value,r=>(o(),n("tr",{key:r.id,class:kt({selected:r.checked}),onClick:B(c=>i(le)(r),["stop"])},[e("td",null,[e("md-checkbox",{"touch-target":"wrapper",onChange:p[5]||(p[5]=(...c)=>i(U)&&i(U)(...c)),checked:r.checked},null,40,Eo)]),e("td",null,[h(Ee,{id:r.id,raw:r},null,8,["id","raw"])]),e("td",null,[r.thumbnailId?(o(),n("img",{key:0,src:i(Ct)(r.thumbnailId),width:"50"},null,8,Oo)):T("",!0)]),e("td",Go,u(ce(r)),1),e("td",Ho,[e("ul",Ko,[(o(!0),n(v,null,b(r.phoneNumbers,(c,ne)=>(o(),n("li",{class:"v-center",key:ne},[ke(u(c.type>0?t.$t(`contact.phone_number_type.${c.type}`):c.label)+" "+u(c.normalizedNumber||c.value)+" ",1),i(Qe)&&_e.value===r.id&&pe.value===ne?(o(),n("md-circular-progress",Jo)):m((o(),n("button",{key:1,class:"icon-button",onClick:B(_n=>ze(r.id,c.normalizedNumber||c.value,ne),["stop"])},[Xo,h(Oe)],8,Wo)),[[R,t.$t("make_a_phone_call")]])]))),128)),(o(!0),n(v,null,b(r.emails,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.email_type.${c.type}`):c.label)+" "+u(c.value),1))),256)),(o(!0),n(v,null,b(r.addresses,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.address_type.${c.type}`):c.label)+" "+u(c.value),1))),256)),(o(!0),n(v,null,b(r.websites,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.website_type.${c.type}`):c.label)+" "+u(c.value),1))),256)),(o(!0),n(v,null,b(r.ims,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.im_type.${c.type}`):c.label)+" "+u(c.value),1))),256)),(o(!0),n(v,null,b(r.events,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.event_type.${c.type}`):c.label)+" "+u(c.value),1))),256))])]),e("td",Yo,[e("div",Po,[m((o(),n("button",{class:"icon-button",onClick:B(c=>Fe(r),["stop"])},[tn,h(W)],8,en)),[[R,t.$t("delete")]]),m((o(),n("button",{class:"icon-button",onClick:B(c=>xe(r),["stop"])},[on,h(Ge)],8,ln)),[[R,t.$t("edit")]]),m((o(),n("button",{class:"icon-button",onClick:B(c=>Le(r),["stop"])},[sn,h(ve)],8,nn)),[[R,t.$t("add_to_tags")]])])]),e("td",null,u(r.notes),1),e("td",null,[h(He,{tags:r.tags,type:i(k)},null,8,["tags","type"])]),e("td",an,[m((o(),n("span",null,[ke(u(i(Nt)(r.updatedAt)),1)])),[[R,i(wt)(r.updatedAt)]])])],10,jo))),128))]),d.value.length?T("",!0):(o(),n("tfoot",dn,[e("tr",null,[e("td",un,[e("div",rn,u(t.$t(i(qt)(i(s),i(Q).permissions,"READ_CONTACTS"))),1)])])]))])]),i(V)>Y?(o(),vt(Ke,{key:0,modelValue:N.value,"onUpdate:modelValue":p[6]||(p[6]=r=>N.value=r),total:i(V),limit:Y},null,8,["modelValue","total"])):T("",!0)],64)}}});const $n=Ve(cn,[["__scopeId","data-v-03a2b02e"]]);export{$n as default};
