import{c as Je,u as Pe,_ as Ye,a as Ze,b as Xe}from"./list-b0a0d32c.js";import{o,c as n,a as e,d as de,r as I,an as Ne,ao as E,U as Ve,t as u,m,v as f,j as i,n as et,ap as tt,_ as qe,K as Te,u as Ue,i as se,aq as fe,ar as be,k as T,p as h,F as v,J as b,H as ae,as as lt,ad as Ie,at as ot,e as nt,s as st,f as at,L as dt,D as it,M as ut,N as rt,g as ct,w as _t,O as pt,P as K,Q as mt,R as ht,l as R,S as vt,T as ft,au as bt,x as $e,av as $t,aw as yt,C as ye,W as ge,a2 as te,q as gt,I as kt,ax as Ct,h as ke,Y as wt,Z as Nt,$ as Vt,A as qt,B as Tt,a1 as Ut,a3 as It,ay as Ce,a0 as St,ab as At,ac as Lt,am as Dt,a4 as Mt,a5 as Ft,a6 as xt}from"./index-e895cc69.js";import{_ as zt}from"./call-outline-rounded-9be18802.js";import{_ as Rt}from"./Breadcrumb-d0e8b352.js";import{u as Se,a as Ae}from"./vee-validate.esm-9c2411c6.js";import{u as Bt,a as Qt}from"./tags-916cb9c2.js";const Ot={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},jt=e("path",{fill:"currentColor",d:"M3 21v-4.25L16.2 3.575q.3-.275.663-.425t.762-.15t.775.15t.65.45L20.425 5q.3.275.438.65T21 6.4q0 .4-.137.763t-.438.662L7.25 21zM17.6 7.8L19 6.4L17.6 5l-1.4 1.4z"},null,-1),Et=[jt];function Gt(g,$){return o(),n("svg",Ot,Et)}const Kt={name:"material-symbols-edit",render:Gt},Ht={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Wt=e("path",{fill:"currentColor",d:"M12 13.825L8.1 17.7q-.275.275-.687.288T6.7 17.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.213t.375-.062t.375.062t.325.213l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275zm0-6L8.1 11.7q-.275.275-.687.288T6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425t.375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275z"},null,-1),Jt=[Wt];function Pt(g,$){return o(),n("svg",Ht,Jt)}const Yt={name:"material-symbols-keyboard-double-arrow-up-rounded",render:Pt},Zt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Xt=e("path",{fill:"currentColor",d:"m12 16.175l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062t-.375-.062t-.325-.213l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275zm0-6L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062t-.375-.062t-.325-.213L6.7 7.7q-.275-.275-.288-.687T6.7 6.3q.275-.275.7-.275t.7.275z"},null,-1),el=[Xt];function tl(g,$){return o(),n("svg",Zt,el)}const ll={name:"material-symbols-keyboard-double-arrow-down-rounded",render:tl};function H(g){return Array.from({length:g},($,B)=>B+1).concat(-1)}const Y={phoneNumberTypes:H(20),emailTypes:H(4),addressTypes:H(3),eventTypes:H(3),imTypes:H(8),websiteTypes:H(7)},ol={slot:"headline"},nl={slot:"content"},sl=["error","error-text"],al={slot:"actions"},dl=de({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(g){const $=g,{handleSubmit:B}=Se(),d=I(),{value:C,resetField:M,errorMessage:w}=Ae("inputValue",Ne().required()),k=B(()=>{$.do(C.value??""),E()});return C.value=$.value,$.value||M(),(async()=>{var A;await Ve(),(A=d.value)==null||A.focus()})(),(A,V)=>(o(),n("md-dialog",null,[e("div",ol,u(g.title),1),e("div",nl,[m(e("md-outlined-text-field",{ref_key:"inputRef",ref:d,class:"form-control",error:i(w),"error-text":i(w)?A.$t(i(w)):"","onUpdate:modelValue":V[0]||(V[0]=N=>et(C)?C.value=N:null),onKeyup:V[1]||(V[1]=tt((...N)=>i(k)&&i(k)(...N),["enter"]))},null,40,sl),[[f,i(C)]])]),e("div",al,[e("md-outlined-button",{value:"cancel",onClick:V[2]||(V[2]=(...N)=>i(E)&&i(E)(...N))},u(A.$t("cancel")),1),e("md-filled-button",{value:"ok",onClick:V[3]||(V[3]=(...N)=>i(k)&&i(k)(...N)),autofocus:""},u(A.$t("ok")),1)])]))}});const il=qe(dl,[["__scopeId","data-v-f510d520"]]),ul={slot:"headline"},rl={slot:"content"},cl={class:"form-label"},_l={class:"form-row"},pl=["label"],ml=["label"],hl=["label"],vl={key:1,class:"v-center"},fl=e("md-ripple",null,null,-1),bl={key:0,class:"form-row"},$l=["label"],yl=["label"],gl={class:"v-center"},kl=e("md-ripple",null,null,-1),Cl={class:"form-label"},wl=["onUpdate:modelValue","onChange"],Nl=["value"],Vl={slot:"headline"},ql=["placeholder","onUpdate:modelValue"],Tl={class:"v-center"},Ul=["onClick"],Il=e("md-ripple",null,null,-1),Sl={key:1,class:"form-label"},Al=["onUpdate:modelValue","onChange"],Ll=["value"],Dl={slot:"headline"},Ml=["label","onUpdate:modelValue"],Fl={class:"v-center"},xl=["onClick"],zl=e("md-ripple",null,null,-1),Rl={key:2,class:"form-label"},Bl=["onUpdate:modelValue","onChange"],Ql=["value"],Ol={slot:"headline"},jl=["label","onUpdate:modelValue"],El={class:"v-center"},Gl=["onClick"],Kl=e("md-ripple",null,null,-1),Hl={key:3,class:"form-label"},Wl=["onUpdate:modelValue","onChange"],Jl=["value"],Pl={slot:"headline"},Yl=["placeholder","onUpdate:modelValue"],Zl={class:"v-center"},Xl=["onClick"],eo=e("md-ripple",null,null,-1),to={key:4,class:"form-label"},lo=["onUpdate:modelValue","onChange"],oo=["value"],no={slot:"headline"},so=["placeholder","onUpdate:modelValue"],ao={class:"v-center"},io=["onClick"],uo=e("md-ripple",null,null,-1),ro={class:"form-row",style:{display:"block",position:"relative"}},co={class:"menu-items"},_o=["onClick"],po={slot:"headline"},mo=["onClick"],ho={slot:"headline"},vo=["onClick"],fo={slot:"headline"},bo=["onClick"],$o={slot:"headline"},yo=["onClick"],go={slot:"headline"},ko={class:"form-row"},Co=["label"],wo={slot:"actions"},No=["disabled"],we=de({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(g){const $=g,{handleSubmit:B}=Se(),d=Te({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),C=I(!1),{t:M}=Ue(),{mutate:w,loading:k,onDone:A}=se({document:fe`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${be}
  `,options:{update:()=>{$.done()}},appApi:!0}),{mutate:V,loading:N,onDone:W}=se({document:fe`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${be}
  `,options:{update:()=>{$.done()}},appApi:!0}),{value:Q,resetField:G,errorMessage:J}=Ae("inputValue",Ne().test("required",l=>"valid.required",l=>!0).test("target-value",l=>"invalid_value",l=>!0)),F=(l,_)=>{l.splice(0,l.length);for(const U of _)l.push({label:U.label,value:U.value,type:U.type})};(()=>{const l=$.data;l?(Object.assign(d,{firstName:l.firstName,middleName:l.middleName,lastName:l.lastName,prefix:l.prefix,suffix:l.suffix,notes:l.notes}),F(d.phoneNumbers,l.phoneNumbers),F(d.emails,l.emails),F(d.addresses,l.addresses),F(d.websites,l.websites),F(d.events,l.events),F(d.ims,l.ims)):(Object.assign(d,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),G())})();const O=l=>{l.type===-1&&lt(il,{value:l.label,title:M("custom"),do:_=>{l.label=_}})},x=(l,_,U)=>_===-1?l.label?l.label:M("custom"):M(`contact.${U}.${_}`),L=(l,_)=>{_.push({type:1,value:"",label:""}),l.close()},j=(l,_)=>{l.splice(_,1)},X=B(()=>{var l,_;$.data?V({id:$.data.id,input:d}):(d.source=((_=(l=$.sources)==null?void 0:l[0])==null?void 0:_.name)??"",w({input:d}))});return A(()=>{E()}),W(()=>{E()}),(l,_)=>{const U=ll,le=Yt,q=Ie,ee=ot;return o(),n("md-dialog",null,[e("div",ul,u(g.data?l.$t("edit"):l.$t("create")),1),e("div",rl,[e("label",cl,u(l.$t("name")),1),e("div",_l,[m(e("md-outlined-text-field",{label:l.$t("first_name"),"onUpdate:modelValue":_[0]||(_[0]=s=>d.firstName=s)},null,8,pl),[[f,d.firstName]]),C.value?m((o(),n("md-outlined-text-field",{key:0,label:l.$t("middle_name"),"onUpdate:modelValue":_[1]||(_[1]=s=>d.middleName=s)},null,8,ml)),[[f,d.middleName]]):T("",!0),m(e("md-outlined-text-field",{label:l.$t("last_name"),"onUpdate:modelValue":_[2]||(_[2]=s=>d.lastName=s)},null,8,hl),[[f,d.lastName]]),C.value?T("",!0):(o(),n("div",vl,[e("button",{class:"icon-button",onClick:_[3]||(_[3]=s=>C.value=!0)},[fl,h(U)])]))]),C.value?(o(),n("div",bl,[m(e("md-outlined-text-field",{label:l.$t("prefix"),"onUpdate:modelValue":_[4]||(_[4]=s=>d.prefix=s)},null,8,$l),[[f,d.prefix]]),m(e("md-outlined-text-field",{label:l.$t("suffix"),"onUpdate:modelValue":_[5]||(_[5]=s=>d.suffix=s)},null,8,yl),[[f,d.suffix]]),e("div",gl,[e("button",{class:"icon-button",onClick:_[6]||(_[6]=s=>C.value=!1)},[kl,h(le)])])])):T("",!0),e("label",Cl,u(l.$t("phone_number")),1),(o(!0),n(v,null,b(d.phoneNumbers,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>O(s)},[(o(!0),n(v,null,b(i(Y).phoneNumberTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",Vl,u(x(s,a,"phone_number_type")),1)],8,Nl))),128))],40,wl),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("telephone"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,ql),[[f,s.value]]),e("div",Tl,[d.phoneNumbers.length>1?(o(),n("button",{key:0,class:"icon-button",onClick:a=>j(d.phoneNumbers,y)},[Il,h(q)],8,Ul)):T("",!0)])]))),128)),d.emails.length?(o(),n("label",Sl,u(l.$t("email")),1)):T("",!0),(o(!0),n(v,null,b(d.emails,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>O(s)},[(o(!0),n(v,null,b(i(Y).emailTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",Dl,u(x(s,a,"email_type")),1)],8,Ll))),128))],40,Al),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{label:l.$t("email"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Ml),[[f,s.value]]),e("div",Fl,[e("button",{class:"icon-button",onClick:a=>j(d.emails,y)},[zl,h(q)],8,xl)])]))),128)),d.addresses.length?(o(),n("label",Rl,u(l.$t("address")),1)):T("",!0),(o(!0),n(v,null,b(d.addresses,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>O(s)},[(o(!0),n(v,null,b(i(Y).addressTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",Ol,u(x(s,a,"address_type")),1)],8,Ql))),128))],40,Bl),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{label:l.$t("address"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,jl),[[f,s.value]]),e("div",El,[e("button",{class:"icon-button",onClick:a=>j(d.addresses,y)},[Kl,h(q)],8,Gl)])]))),128)),d.websites.length?(o(),n("label",Hl,u(l.$t("website")),1)):T("",!0),(o(!0),n(v,null,b(d.websites,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>O(s)},[(o(!0),n(v,null,b(i(Y).websiteTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",Pl,u(x(s,a,"website_type")),1)],8,Jl))),128))],40,Wl),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("website"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Yl),[[f,s.value]]),e("div",Zl,[e("button",{class:"icon-button",onClick:a=>j(d.websites,y)},[eo,h(q)],8,Xl)])]))),128)),d.ims.length?(o(),n("label",to,u(l.$t("im")),1)):T("",!0),(o(!0),n(v,null,b(d.ims,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>O(s)},[(o(!0),n(v,null,b(i(Y).imTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",no,u(x(s,a,"im_type")),1)],8,oo))),128))],40,lo),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("im"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,so),[[f,s.value]]),e("div",ao,[e("button",{class:"icon-button",onClick:a=>j(d.ims,y)},[uo,h(q)],8,io)])]))),128)),e("div",ro,[h(ee,{placement:"auto"},{content:ae(s=>[e("div",co,[e("md-menu-item",{onClick:()=>L(s,d.phoneNumbers)},[e("div",po,u(l.$t("phone_number")),1)],8,_o),e("md-menu-item",{onClick:()=>L(s,d.emails)},[e("div",ho,u(l.$t("email")),1)],8,mo),e("md-menu-item",{onClick:()=>L(s,d.addresses)},[e("div",fo,u(l.$t("address")),1)],8,vo),e("md-menu-item",{onClick:()=>L(s,d.websites)},[e("div",$o,u(l.$t("website")),1)],8,bo),e("md-menu-item",{onClick:()=>L(s,d.ims)},[e("div",go,u(l.$t("im")),1)],8,yo)])]),default:ae(()=>[e("div",null,[e("md-outlined-button",null,u(l.$t("add_field")),1)])]),_:1})]),e("div",ko,[m(e("md-outlined-text-field",{type:"textarea",label:l.$t("notes"),"onUpdate:modelValue":_[7]||(_[7]=s=>d.notes=s),rows:"3"},null,8,Co),[[f,d.notes]])])]),e("div",wo,[e("md-outlined-button",{value:"cancel",onClick:_[8]||(_[8]=(...s)=>i(E)&&i(E)(...s))},u(l.$t("cancel")),1),e("md-filled-button",{value:"save",disabled:i(k)||i(N),onClick:_[9]||(_[9]=(...s)=>i(X)&&i(X)(...s)),autofocus:""},u(l.$t("save")),9,No)])])}}}),S=g=>(qt("data-v-54fa8d8a"),g=g(),Tt(),g),Vo={class:"v-toolbar"},qo=S(()=>e("md-ripple",null,null,-1)),To={class:"icon-button",style:{display:"none"}},Uo=S(()=>e("md-ripple",null,null,-1)),Io=S(()=>e("md-ripple",null,null,-1)),So={class:"filters"},Ao=["label"],Lo={class:"form-label"},Do=["label","selected","onClick"],Mo={class:"buttons"},Fo=["onClick"],xo={class:"table-responsive"},zo={class:"table"},Ro=["checked","indeterminate"],Bo=S(()=>e("th",null,"ID",-1)),Qo=S(()=>e("th",null,null,-1)),Oo=S(()=>e("th",null,null,-1)),jo=["onClick"],Eo=["checked"],Go=["src"],Ko={class:"nowrap"},Ho={class:"nowrap"},Wo={class:"list-unstyled"},Jo={key:0,indeterminate:"",class:"spinner-sm"},Po=["onClick"],Yo=S(()=>e("md-ripple",null,null,-1)),Zo={class:"nowrap"},Xo={class:"action-btns"},en=["onClick"],tn=S(()=>e("md-ripple",null,null,-1)),ln=["onClick"],on=S(()=>e("md-ripple",null,null,-1)),nn=["onClick"],sn=S(()=>e("md-ripple",null,null,-1)),an={class:"nowrap"},dn={key:0},un={colspan:"9"},rn={class:"no-data-placeholder"},Z=50,cn=de({__name:"ContactsView",setup(g){var me,he;const $=nt(),{app:B}=st(at()),d=I([]),C=I(),{t:M}=Ue(),w=Te({text:"",tags:[]}),k=dt.CONTACT,V=it().query,N=I(parseInt(((me=V.page)==null?void 0:me.toString())??"1")),W=I([]),Q=I(ut(((he=V.q)==null?void 0:he.toString())??"")),G=I(""),{tags:J}=Bt(k,Q,w,async t=>{G.value=ft(t),await Ve(),y()}),{addToTags:F}=Qt(k,d,J),{deleteItems:O}=Je(bt,()=>{l(),a(),K.emit("refetch_tags",k)},d),{allChecked:x,realAllChecked:L,selectRealAll:j,allCheckedAlertVisible:X,clearSelection:l,toggleAllChecked:_,toggleItemChecked:U,toggleRow:le,total:q,checked:ee}=Pe(d),{loading:s,load:y,refetch:a}=rt({handle:(t,p)=>{p?$e(M(p),"error"):t&&(d.value=t.contacts.map(D=>({...D,checked:!1})),q.value=t.contactCount)},document:$t,variables:()=>({offset:(N.value-1)*Z,limit:Z,query:G.value}),appApi:!0});ct({handle:(t,p)=>{p?$e(M(p),"error"):t&&(W.value=t.contactSources)},document:yt,variables:null,appApi:!0}),_t(N,t=>{ye($,`/contacts?page=${t}&q=${ge(Q.value)}`)});function Le(){Q.value=Ut(w),ie(),C.value.dismiss()}function ie(){ye($,`/contacts?q=${ge(Q.value)}`)}const ue=t=>{t.type===k&&(l(),a())},re=t=>{t.type===k&&a()};pt(()=>{K.on("item_tags_updated",re),K.on("items_tags_updated",ue)}),mt(()=>{K.off("item_tags_updated",re),K.off("items_tags_updated",ue)});function De(t){te(It,{type:k,tags:J.value,item:{key:t.id,title:"",size:0},selected:J.value.filter(p=>t.tags.some(D=>D.id===p.id))})}function ce(t){let p="";Ce(t.firstName)||Ce(t.lastName)?p=`${t.lastName}${t.middleName}${t.firstName}`:p=[t.firstName,t.middleName,t.lastName].filter(oe=>oe).join(" ");const D=t.suffix?`, ${t.suffix}`:"",P=`${t.prefix} ${p} ${D}`.trim();return P||(t.emails.length?t.emails[0].value:"")}function Me(t){w.tags.includes(t)?St(w.tags,p=>p.id===t.id):w.tags.push(t)}function Fe(t){te(Lt,{id:t.id,name:ce(t),gql:At`
      mutation DeleteContact($query: String!) {
        deleteContacts(query: $query)
      }
    `,variables:()=>({query:`ids:${t.id}`}),appApi:!0,typeName:"Contact",done:()=>{q.value--,t.tags.length&&K.emit("refetch_tags",k)}})}function xe(t){te(we,{data:t,sources:W,done:a})}function ze(){te(we,{data:null,sources:W,done:a})}const _e=I(""),pe=I(0),{mutate:Re,loading:Be}=se({document:gt,appApi:!0});function Qe(t,p,D){_e.value=t,pe.value=D,Re({number:p})}return(t,p)=>{const D=Rt,P=Ie,oe=Dt,ve=Mt,Oe=Ye,je=Ze,Ee=Ft,Ge=zt,Ke=Kt,He=xt,We=Xe,z=ht("tooltip");return o(),n(v,null,[e("div",Vo,[h(D,{current:()=>`${t.$t("page_title.contacts")} (${i(q)})`},null,8,["current"]),i(ee)?(o(),n(v,{key:0},[m((o(),n("button",{class:"icon-button",onClick:p[0]||(p[0]=R(r=>i(O)(i(L),G.value),["stop"]))},[qo,h(P)])),[[z,t.$t("delete")]]),m((o(),n("button",To,[Uo,h(oe)])),[[z,t.$t("download")]]),m((o(),n("button",{class:"icon-button",onClick:p[1]||(p[1]=R(r=>i(F)(i(L),G.value),["stop"]))},[Io,h(ve)])),[[z,t.$t("add_to_tags")]])],64)):T("",!0),e("md-outlined-button",{onClick:ze,style:{"margin-inline-start":"16px"}},u(t.$t("create")),1),h(Oe,{ref_key:"searchInputRef",ref:C,modelValue:Q.value,"onUpdate:modelValue":p[3]||(p[3]=r=>Q.value=r),search:ie},{filters:ae(()=>[e("div",So,[m(e("md-outlined-text-field",{label:t.$t("keywords"),"onUpdate:modelValue":p[2]||(p[2]=r=>w.text=r),"keyup.enter":"applyAndDoSearch"},null,8,Ao),[[f,w.text]]),e("label",Lo,u(t.$t("tags")),1),e("md-chip-set",null,[(o(!0),n(v,null,b(i(J),r=>(o(),n("md-filter-chip",{key:r.id,label:r.name,selected:w.tags.includes(r),onClick:c=>Me(r)},null,8,Do))),128))]),e("div",Mo,[e("md-filled-button",{onClick:R(Le,["stop"])},u(t.$t("search")),9,Fo)])])]),_:1},8,["modelValue"])]),h(je,{limit:Z,total:i(q),"all-checked-alert-visible":i(X),"real-all-checked":i(L),"select-real-all":i(j),"clear-selection":i(l)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),e("div",xo,[e("table",zo,[e("thead",null,[e("tr",null,[e("th",null,[e("md-checkbox",{"touch-target":"wrapper",onChange:p[4]||(p[4]=(...r)=>i(_)&&i(_)(...r)),checked:i(x),indeterminate:!i(x)&&i(ee)},null,40,Ro)]),Bo,e("th",null,u(t.$t("avatar")),1),e("th",null,u(t.$t("name")),1),Qo,Oo,e("th",null,u(t.$t("notes")),1),e("th",null,u(t.$t("tags")),1),e("th",null,u(t.$t("updated_at")),1)])]),e("tbody",null,[(o(!0),n(v,null,b(d.value,r=>(o(),n("tr",{key:r.id,class:kt({selected:r.checked}),onClick:R(c=>i(le)(r),["stop"])},[e("td",null,[e("md-checkbox",{"touch-target":"wrapper",onChange:p[5]||(p[5]=(...c)=>i(U)&&i(U)(...c)),checked:r.checked},null,40,Eo)]),e("td",null,[h(Ee,{id:r.id,raw:r},null,8,["id","raw"])]),e("td",null,[r.thumbnailId?(o(),n("img",{key:0,src:i(Ct)(r.thumbnailId),width:"50"},null,8,Go)):T("",!0)]),e("td",Ko,u(ce(r)),1),e("td",Ho,[e("ul",Wo,[(o(!0),n(v,null,b(r.phoneNumbers,(c,ne)=>(o(),n("li",{class:"v-center",key:ne},[ke(u(c.type>0?t.$t(`contact.phone_number_type.${c.type}`):c.label)+" "+u(c.normalizedNumber||c.value)+" ",1),i(Be)&&_e.value===r.id&&pe.value===ne?(o(),n("md-circular-progress",Jo)):m((o(),n("button",{key:1,class:"icon-button",onClick:R(_n=>Qe(r.id,c.normalizedNumber||c.value,ne),["stop"])},[Yo,h(Ge)],8,Po)),[[z,t.$t("make_a_phone_call")]])]))),128)),(o(!0),n(v,null,b(r.emails,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.email_type.${c.type}`):c.label)+" "+u(c.value),1))),256)),(o(!0),n(v,null,b(r.addresses,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.address_type.${c.type}`):c.label)+" "+u(c.value),1))),256)),(o(!0),n(v,null,b(r.websites,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.website_type.${c.type}`):c.label)+" "+u(c.value),1))),256)),(o(!0),n(v,null,b(r.ims,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.im_type.${c.type}`):c.label)+" "+u(c.value),1))),256)),(o(!0),n(v,null,b(r.events,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.event_type.${c.type}`):c.label)+" "+u(c.value),1))),256))])]),e("td",Zo,[e("div",Xo,[m((o(),n("button",{class:"icon-button",onClick:R(c=>Fe(r),["stop"])},[tn,h(P)],8,en)),[[z,t.$t("delete")]]),m((o(),n("button",{class:"icon-button",onClick:R(c=>xe(r),["stop"])},[on,h(Ke)],8,ln)),[[z,t.$t("edit")]]),m((o(),n("button",{class:"icon-button",onClick:R(c=>De(r),["stop"])},[sn,h(ve)],8,nn)),[[z,t.$t("add_to_tags")]])])]),e("td",null,u(r.notes),1),e("td",null,[h(He,{tags:r.tags,type:i(k)},null,8,["tags","type"])]),e("td",an,[m((o(),n("span",null,[ke(u(i(Nt)(r.updatedAt)),1)])),[[z,i(wt)(r.updatedAt)]])])],10,jo))),128))]),d.value.length?T("",!0):(o(),n("tfoot",dn,[e("tr",null,[e("td",un,[e("div",rn,u(t.$t(i(Vt)(i(s),i(B).permissions,"WRITE_CONTACTS"))),1)])])]))])]),i(q)>Z?(o(),vt(We,{key:0,modelValue:N.value,"onUpdate:modelValue":p[6]||(p[6]=r=>N.value=r),total:i(q),limit:Z},null,8,["modelValue","total"])):T("",!0)],64)}}});const $n=qe(cn,[["__scopeId","data-v-54fa8d8a"]]);export{$n as default};
