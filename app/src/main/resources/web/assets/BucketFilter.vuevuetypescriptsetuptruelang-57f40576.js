import{d as _,u as k,e as v,r as I,g as B,x as g,aK as h,O as C,P as n,Q as D,o as l,c as u,J as S,l as b,I as q,t as m,F as M,T as Q,C as x,W as A}from"./index-9c78c93b.js";const E=["onClick"],$=_({__name:"BucketFilter",props:{type:{type:String,required:!0},selected:{type:String,required:!0}},setup(i){const a=i,{t:p}=k(),f=v(),o=I([]),{refetch:d}=B({handle:(e,s)=>{s?g(p(s),"error"):e&&(o.value=e.mediaBuckets)},document:h,variables:{type:a.type},appApi:!0});function y(e){const s=Q([{name:"bucket_id",op:"",value:e.id}]);x(f,`/${{AUDIO:"audios",IMAGE:"images",VIDEO:"videos"}[a.type]}?q=${A(s)}`)}const r=e=>{e.type===a.type&&d()},c=e=>{e.item.bucketId&&e.type===a.type&&d()};return C(()=>{n.on("media_items_deleted",r),n.on("media_item_deleted",c)}),D(()=>{n.off("media_items_deleted",r),n.off("media_item_deleted",c)}),(e,s)=>(l(!0),u(M,null,S(o.value,t=>(l(),u("li",{key:t.id,onClick:b(F=>y(t),["prevent"]),class:q({active:i.selected&&t.id===i.selected})},m(t.name)+" ("+m(t.itemCount)+")",11,E))),128))}});export{$ as _};
