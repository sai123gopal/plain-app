import{d as V,H as T,o as c,c as h,e as d,w as g,z as k,j as b,F as x,A as B,g as S,r as y,bM as M,N as $,f as C,P as Z,bu as I,ae as N,_ as D,Z as F,ad as z,U as E,y as A,u as P,t as H,a1 as R}from"./index-cf22a9d8.js";import{_ as j}from"./VModal.vuevuetypescriptsetuptruelang-83ac7574.js";const K={class:"pagination"},L=["onClick"],O={key:0,class:"page-link"},Q=["onClick"],U=["onClick"],_e=V({__name:"VPagination",props:{total:{type:Number,default:0},limit:{type:Number,default:50},rangeSize:{type:Number,default:2},modelValue:{type:Number,default:0}},emits:["update:modelValue"],setup(n,{emit:a}){const e=n;function o(l){a("update:modelValue",l)}const t=T(()=>Math.ceil(e.total/e.limit)),i=T(()=>{const l=[],m=5+e.rangeSize*2;let s=t.value<=m?1:e.modelValue-e.rangeSize,u=t.value<=m?t.value:e.modelValue+e.rangeSize;if(u=u>t.value?t.value:u,s=s<1?1:s,t.value>m){const q=s-1<3,w=t.value-u<3;if(q){u=m-2;for(let r=1;r<s;r++)l.push(r)}else l.push(1),l.push(null);if(w){s=t.value-(m-3);for(let r=s;r<=t.value;r++)l.push(r)}else{for(let r=s;r<=u;r++)l.push(r);l.push(null),l.push(t.value)}}else for(let q=s;q<=u;q++)l.push(q);return l}),v=T(()=>e.modelValue>1),f=T(()=>e.modelValue<t.value);function p(){v.value&&a("update:modelValue",e.modelValue-1)}function _(){f.value&&a("update:modelValue",e.modelValue+1)}return(l,m)=>(c(),h("ul",K,[d("li",{class:k(["page-item",{disabled:!b(v)}])},[d("a",{class:"page-link",href:"#",onClick:g(p,["prevent"])},"«",8,L)],2),(c(!0),h(x,null,B(b(i),s=>(c(),h("li",{class:k(["page-item",{disabled:s===null,active:s===n.modelValue}])},[s===null?(c(),h("span",O,"···")):(c(),h("a",{key:1,class:"page-link",href:"#",onClick:g(u=>o(s),["prevent"])},S(s),9,Q))],2))),256)),d("li",{class:k(["page-item",{disabled:!b(f)}])},[d("a",{class:"page-link",href:"#",onClick:g(_,["prevent"])},"»",8,U)],2)]))}}),G={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},J=d("path",{fill:"currentColor",d:"M4 19q-.425 0-.713-.288T3 18q0-.425.288-.713T4 17h4q.425 0 .713.288T9 18q0 .425-.288.713T8 19H4ZM4 7q-.425 0-.713-.288T3 6q0-.425.288-.713T4 5h8q.425 0 .713.288T13 6q0 .425-.288.713T12 7H4Zm8 14q-.425 0-.713-.288T11 20v-4q0-.425.288-.713T12 15q.425 0 .713.288T13 16v1h7q.425 0 .713.288T21 18q0 .425-.288.713T20 19h-7v1q0 .425-.288.713T12 21Zm-4-6q-.425 0-.713-.288T7 14v-1H4q-.425 0-.713-.288T3 12q0-.425.288-.713T4 11h3v-1q0-.425.288-.713T8 9q.425 0 .713.288T9 10v4q0 .425-.288.713T8 15Zm4-2q-.425 0-.713-.288T11 12q0-.425.288-.713T12 11h8q.425 0 .713.288T21 12q0 .425-.288.713T20 13h-8Zm4-4q-.425 0-.713-.288T15 8V4q0-.425.288-.713T16 3q.425 0 .713.288T17 4v1h3q.425 0 .713.288T21 6q0 .425-.288.713T20 7h-3v1q0 .425-.288.713T16 9Z"},null,-1),W=[J];function X(n,a){return c(),h("svg",G,W)}const Y={name:"material-symbols-tune-rounded",render:X},ee={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},te=d("path",{fill:"currentColor",d:"m18.9 20.3l-5.6-5.6q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5q0-2.725 1.888-4.612T9.5 3q2.725 0 4.612 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l5.625 5.625q.275.275.275.675t-.3.7q-.275.275-.7.275t-.7-.275ZM9.5 14q1.875 0 3.188-1.313T14 9.5q0-1.875-1.313-3.188T9.5 5Q7.625 5 6.312 6.313T5 9.5q0 1.875 1.313 3.188T9.5 14Z"},null,-1),se=[te];function ae(n,a){return c(),h("svg",ee,se)}const ne={name:"material-symbols-search-rounded",render:ae},le={class:"search-input"},oe=["value","placeholder"],ie={class:"dropdown-menu search-panel"},ue=V({__name:"SearchInput",props:{modelValue:{type:String,default:""},search:{type:Function,required:!0}},emits:["update:modelValue"],setup(n,{emit:a}){const e=n,o=y(!1),t=y(null),i=y(!1),v=p=>{a("update:modelValue",p.target.value)};function f(){o.value=!0}return(p,_)=>{const l=ne,m=Y,s=M("click-away");return $((c(),h("div",le,[C(l,{class:"bi bi-search"}),d("input",{ref_key:"inputRef",ref:t,type:"search","data-search-input":"true",value:n.modelValue,onInput:v,onFocus:f,onBlur:_[0]||(_[0]=u=>o.value=!1),onKeyup:_[1]||(_[1]=Z((...u)=>e.search&&e.search(...u),["enter"])),placeholder:p.$t("search_hint")},null,40,oe),C(m,{class:"bi bi-tune",onClick:_[2]||(_[2]=g(()=>i.value=!i.value,["prevent"]))}),$(d("div",ie,[I(p.$slots,"filters",{},void 0,!0)],512),[[N,i.value]])])),[[s,()=>i.value=!1]])}}});const me=D(ue,[["__scopeId","data-v-76ff2b07"]]),re=["disabled"],ce=V({__name:"DeleteItemsConfirm",props:{gql:{type:Object,required:!0},done:{type:Function,required:!0},variables:{type:Function,required:!0}},setup(n){const a=n,{mutate:e,loading:o,onDone:t}=F({document:a.gql,appApi:!0});function i(){e(a.variables())}return t(()=>{a.done(),z()}),(v,f)=>{const p=j;return c(),E(p,{class:"delete-modal",title:v.$t("confirm_to_delete")},{action:A(()=>[d("button",{type:"button",disabled:b(o),class:"btn",onClick:i},S(v.$t("delete")),9,re)]),_:1},8,["title"])}}}),he=n=>{const a=y(!1);function e(){a.value?n.value.forEach(o=>{o.checked=!0}):n.value.forEach(o=>{o.checked=!1})}return{selectAll:a,toggleSelect:e}},ve=(n,a,e)=>{const{t:o}=P();return{deleteItems:()=>{const t=e.value.filter(i=>i.checked);if(t.length===0){H(o("select_first"),"error");return}R(ce,{gql:n,variables:()=>({ids:t.map(i=>i.id)}),done:a})}}};export{me as _,_e as a,ve as b,ce as c,he as u};
