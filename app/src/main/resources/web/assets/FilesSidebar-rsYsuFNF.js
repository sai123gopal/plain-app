import{_ as C}from"./LeftSidebar.vuevuetypescriptsetuptruelang-B6Ke7euJ.js";import{d as N,u as R,s as w,i as y,I as D,h as d,aE as E,k as F,v as Q,q as h,Q as T,a6 as m,a0 as V,o,V as x,t as c,a as n,w as _,N as v,m as b,c as k,P as L,O as M,bq as z,f as S,a7 as A,a8 as I}from"./index-Dn0O6zoH.js";const O={class:"nav"},j={class:"title"},G=["onClick"],H={class:"title"},X=N({__name:"FilesSidebar",setup(J){const i=T(),u=R(),{app:s}=w(y()),{parseQ:$}=z(),r=D({linkName:"",text:"",parent:""}),g=d(""),p=d(!1);function q(){S(u,"/files/recent")}const P=E(()=>{const e=[{name:"internal",label:"internal_storage",path:s.value.internalStoragePath}];return s.value.sdcardPath&&e.push({name:"sdcard",label:"sdcard",path:s.value.sdcardPath}),s.value.usbDiskPaths.forEach((t,a)=>{e.push({name:`usb${a+1}`,label:`usb_storage ${a+1}`,path:t})}),e.push({name:"app",label:"app_name",path:s.value.externalFilesDir}),e});function B(e){const t=A([{name:"parent",op:"",value:e.path},{name:"link_name",op:"",value:e.name}]);S(u,`/files?q=${I(t)}`)}function f(){var a;const e=m.currentRoute.value;if(e.path==="/files/recent"){p.value=!0;return}p.value=!1;const t=V(((a=e.query.q)==null?void 0:a.toString())??"");$(r,t),g.value=r.parent}return f(),F(()=>m.currentRoute.value.fullPath,()=>{f()}),(e,t)=>{const a=C;return o(),Q(a,null,{title:h(()=>[x(c(e.$t("page_title.files")),1)]),body:h(()=>[n("ul",O,[n("li",{onClick:_(q,["prevent"]),class:v({active:b(i).path==="/files/recent"})},[n("span",j,c(e.$t("recents")),1)],2),(o(!0),k(M,null,L(P.value,l=>(o(),k("li",{onClick:_(K=>B(l),["prevent"]),class:v({active:b(i).path==="/files"&&l.name===r.linkName})},[n("span",H,c(e.$t(l.label)),1)],10,G))),256))])]),_:1})}}});export{X as default};
