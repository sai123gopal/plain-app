import{b as Re,u as ze,_ as je,a as Ee}from"./list-d04dc80e.js";import{_ as Ke}from"./call-outline-rounded-491269bf.js";import{_ as Oe}from"./FieldId-4280c3b8.js";import{_ as Ge}from"./Multiselect-94708f99.js";import{_ as Ze,a as He}from"./label-outline-rounded-bf459c02.js";import{_ as ye}from"./delete-outline-rounded-11fb4e46.js";import{_ as We}from"./Breadcrumb-99ff7c19.js";import{o as l,c as a,e,d as de,r as T,ac as ke,ad as ne,G as ge,U as te,y as K,N as b,R as Ce,P as we,j as r,O as k,g as n,ae as Je,C as Ne,u as Ve,Z as ae,af as pe,ag as me,l as g,f as $,F as h,A as v,z as H,ah as X,ai as Xe,aj as Ye,q as Pe,s as xe,a as et,H as tt,p as ot,D as st,E as lt,ak as nt,I as at,t as _e,al as dt,i as ut,am as ct,K as it,L as rt,M as pt,$ as mt,w as R,Q as be,an as _t,k as bt,S as ht,T as vt,B as he,V as ve,W as ft,ao as fe,a1 as le,a2 as $t}from"./index-cf22a9d8.js";import{n as yt}from"./list-6498ebd9.js";import{_ as kt}from"./DeleteConfirm.vuevuetypescriptsetuptruelang-1943d7a1.js";import{_ as qe}from"./VModal.vuevuetypescriptsetuptruelang-83ac7574.js";import{u as Te,a as Ue}from"./vee-validate.esm-dd3b5249.js";import{u as gt,a as Ct,b as wt}from"./tags-8dfd5c3d.js";const Nt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Vt=e("path",{fill:"currentColor",d:"M6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 7.825L8.1 11.7q-.275.275-.688.288T6.7 11.7Zm0 6q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212t.375-.063q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 13.825L8.1 17.7q-.275.275-.688.288T6.7 17.7Z"},null,-1),qt=[Vt];function Tt(V,f){return l(),a("svg",Nt,qt)}const Ut={name:"material-symbols-keyboard-double-arrow-up-rounded",render:Tt},St={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},At=e("path",{fill:"currentColor",d:"M12 12.575q-.2 0-.375-.062T11.3 12.3L6.7 7.7q-.275-.275-.288-.688T6.7 6.3q.275-.275.7-.275t.7.275l3.9 3.875L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Zm0 6q-.2 0-.375-.062T11.3 18.3l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275l3.9 3.875l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Z"},null,-1),Ft=[At];function Dt(V,f){return l(),a("svg",St,Ft)}const It={name:"material-symbols-keyboard-double-arrow-down-rounded",render:Dt};function Z(V){return Array.from({length:V},(f,z)=>z+1).concat(-1)}const Y={phoneNumberTypes:Z(20),emailTypes:Z(4),addressTypes:Z(3),eventTypes:Z(3),imTypes:Z(8),websiteTypes:Z(7)},Lt=de({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(V){const f=V,{handleSubmit:z}=Te(),d=T(),{value:y,resetField:C,errorMessage:q}=Ue("inputValue",ke().required()),F=z(()=>{f.do(y.value??""),ne()});return y.value=f.value,f.value||C(),(async()=>{var D;await ge(),(D=d.value)==null||D.focus()})(),(D,N)=>{const I=qe;return l(),te(I,{title:V.title},{body:K(()=>[b(e("input",{ref_key:"inputRef",ref:d,type:"text",class:"form-control","onUpdate:modelValue":N[0]||(N[0]=w=>Ce(y)?y.value=w:null),onKeyup:N[1]||(N[1]=we((...w)=>r(F)&&r(F)(...w),["enter"]))},null,544),[[k,r(y)]]),b(e("div",{class:"invalid-feedback"},n(r(q)?D.$t(r(q)):""),513),[[Je,r(q)]])]),action:K(()=>[e("button",{type:"button",class:"btn",onClick:N[2]||(N[2]=(...w)=>r(F)&&r(F)(...w))},n(D.$t("ok")),1)]),_:1},8,["title"])}}}),Mt={class:"row mb-3"},Qt={class:"col-md-3 col-form-label"},Bt={class:"col-md-3"},Rt=["placeholder"],zt={key:0,class:"col-md-3"},jt=["placeholder"],Et={class:"col-md-3"},Kt=["placeholder"],Ot={key:1,class:"col-md-3"},Gt={key:0,class:"row mb-3"},Zt={class:"offset-3 col-md-3"},Ht=["placeholder"],Wt={class:"col-md-3"},Jt=["placeholder"],Xt={class:"col-md-3"},Yt={key:0,class:"col-md-3 col-form-label"},Pt=["onUpdate:modelValue","onChange"],xt=["value"],eo={class:"col-md-4"},to=["placeholder","onUpdate:modelValue"],oo={key:1,class:"col-md-2"},so=["onClick"],lo={key:0,class:"col-md-3 col-form-label"},no=["onUpdate:modelValue","onChange"],ao=["value"],uo={class:"col-md-4"},co=["placeholder","onUpdate:modelValue"],io={class:"col-md-2"},ro=["onClick"],po={key:0,class:"col-md-3 col-form-label"},mo=["onUpdate:modelValue","onChange"],_o=["value"],bo={class:"col-md-4"},ho=["placeholder","onUpdate:modelValue"],vo={class:"col-md-2"},fo=["onClick"],$o={key:0,class:"col-md-3 col-form-label"},yo=["onUpdate:modelValue","onChange"],ko=["value"],go={class:"col-md-4"},Co=["placeholder","onUpdate:modelValue"],wo={class:"col-md-2"},No=["onClick"],Vo={key:0,class:"col-md-3 col-form-label"},qo=["onUpdate:modelValue","onChange"],To=["value"],Uo={class:"col-md-4"},So=["placeholder","onUpdate:modelValue"],Ao={class:"col-md-2"},Fo=["onClick"],Do={class:"row mb-3"},Io={class:"col-md-3 col-form-label"},Lo={class:"col-md-8"},Mo={class:"row mb-3"},Qo={class:"offset-3 col-md-3"},Bo={type:"button",class:"btn"},Ro={class:"menu-items"},zo=["onClick"],jo=["onClick"],Eo=["onClick"],Ko=["onClick"],Oo=["onClick"],Go=["disabled"],$e=de({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(V){const f=V,{handleSubmit:z}=Te(),d=Ne({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),y=T(!1),{t:C}=Ve(),{mutate:q,loading:F,onDone:D}=ae({document:pe`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${me}
  `,options:{update:()=>{f.done()}},appApi:!0}),{mutate:N,loading:I,onDone:w}=ae({document:pe`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${me}
  `,options:{update:()=>{f.done()}},appApi:!0}),{value:W,resetField:J,errorMessage:j}=Ue("inputValue",ke().test("required",t=>"valid.required",t=>!0).test("target-value",t=>"invalid_value",t=>!0)),U=(t,p)=>{t.splice(0,t.length);for(const A of p)t.push({label:A.label,value:A.value,type:A.type})};(()=>{const t=f.data;t?(Object.assign(d,{firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,prefix:t.prefix,suffix:t.suffix,notes:t.notes}),U(d.phoneNumbers,t.phoneNumbers),U(d.emails,t.emails),U(d.addresses,t.addresses),U(d.websites,t.websites),U(d.events,t.events),U(d.ims,t.ims)):(Object.assign(d,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),J())})();const S=t=>{t.type===-1&&Xe(Lt,{value:t.label,title:C("custom"),do:p=>{t.label=p}})},L=(t,p,A)=>p===-1?t.label?t.label:C("custom"):C(`contact.${A}.${p}`),M=(t,p)=>{p.push({type:1,value:"",label:""}),t.close()},Q=(t,p)=>{t.splice(p,1)},O=z(()=>{var t,p;f.data?N({id:f.data.id,input:d}):(d.source=((p=(t=f.sources)==null?void 0:t[0])==null?void 0:p.name)??"",q({input:d}))});return D(()=>{ne()}),w(()=>{ne()}),(t,p)=>{const A=It,G=Ut,B=ye,P=Ye,x=qe;return l(),te(x,{size:"lg",title:V.data?t.$t("edit"):t.$t("create")},{body:K(()=>[e("div",Mt,[e("label",Qt,n(t.$t("name")),1),e("div",Bt,[b(e("input",{type:"text",class:"form-control",placeholder:t.$t("first_name"),"onUpdate:modelValue":p[0]||(p[0]=s=>d.firstName=s)},null,8,Rt),[[k,d.firstName]])]),y.value?(l(),a("div",zt,[b(e("input",{type:"text",class:"form-control",placeholder:t.$t("middle_name"),"onUpdate:modelValue":p[1]||(p[1]=s=>d.middleName=s)},null,8,jt),[[k,d.middleName]])])):g("",!0),e("div",Et,[b(e("input",{type:"text",class:"form-control",placeholder:t.$t("last_name"),"onUpdate:modelValue":p[2]||(p[2]=s=>d.lastName=s)},null,8,Kt),[[k,d.lastName]])]),y.value?g("",!0):(l(),a("div",Ot,[e("button",{type:"button",class:"btn-icon",onClick:p[3]||(p[3]=s=>y.value=!0)},[$(A,{class:"bi"})])]))]),y.value?(l(),a("div",Gt,[e("div",Zt,[b(e("input",{type:"text",class:"form-control",placeholder:t.$t("prefix"),"onUpdate:modelValue":p[4]||(p[4]=s=>d.prefix=s)},null,8,Ht),[[k,d.prefix]])]),e("div",Wt,[b(e("input",{type:"text",class:"form-control",placeholder:t.$t("suffix"),"onUpdate:modelValue":p[5]||(p[5]=s=>d.suffix=s)},null,8,Jt),[[k,d.suffix]])]),e("div",Xt,[e("button",{type:"button",class:"btn-icon",onClick:p[6]||(p[6]=s=>y.value=!1)},[$(G,{class:"bi"})])])])):g("",!0),(l(!0),a(h,null,v(d.phoneNumbers,(s,_)=>(l(),a("div",{class:"row mb-3",key:_},[_===0?(l(),a("label",Yt,n(t.$t("phone_number")),1)):g("",!0),e("div",{class:H(["col-md-3",{"offset-md-3":_>0}])},[b(e("select",{class:"form-select","onUpdate:modelValue":u=>s.type=u,onChange:u=>S(s)},[(l(!0),a(h,null,v(r(Y).phoneNumberTypes,u=>(l(),a("option",{key:u,value:u},n(L(s,u,"phone_number_type")),9,xt))),128))],40,Pt),[[X,s.type,void 0,{number:!0}]])],2),e("div",eo,[b(e("input",{type:"text",class:"form-control",placeholder:t.$t("telephone"),"onUpdate:modelValue":u=>s.value=u},null,8,to),[[k,s.value]])]),d.phoneNumbers.length>1?(l(),a("div",oo,[e("button",{type:"button",class:"btn-icon",onClick:u=>Q(d.phoneNumbers,_)},[$(B,{class:"bi"})],8,so)])):g("",!0)]))),128)),(l(!0),a(h,null,v(d.emails,(s,_)=>(l(),a("div",{class:"row mb-3",key:_},[_===0?(l(),a("label",lo,n(t.$t("email")),1)):g("",!0),e("div",{class:H(["col-md-3",{"offset-md-3":_>0}])},[b(e("select",{class:"form-select","onUpdate:modelValue":u=>s.type=u,onChange:u=>S(s)},[(l(!0),a(h,null,v(r(Y).emailTypes,u=>(l(),a("option",{key:u,value:u},n(L(s,u,"email_type")),9,ao))),128))],40,no),[[X,s.type,void 0,{number:!0}]])],2),e("div",uo,[b(e("input",{type:"text",class:"form-control",placeholder:t.$t("email"),"onUpdate:modelValue":u=>s.value=u},null,8,co),[[k,s.value]])]),e("div",io,[e("button",{type:"button",class:"btn-icon",onClick:u=>Q(d.emails,_)},[$(B,{class:"bi"})],8,ro)])]))),128)),(l(!0),a(h,null,v(d.addresses,(s,_)=>(l(),a("div",{class:"row mb-3",key:_},[_===0?(l(),a("label",po,n(t.$t("address")),1)):g("",!0),e("div",{class:H(["col-md-3",{"offset-md-3":_>0}])},[b(e("select",{class:"form-select","onUpdate:modelValue":u=>s.type=u,onChange:u=>S(s)},[(l(!0),a(h,null,v(r(Y).addressTypes,u=>(l(),a("option",{key:u,value:u},n(L(s,u,"address_type")),9,_o))),128))],40,mo),[[X,s.type,void 0,{number:!0}]])],2),e("div",bo,[b(e("input",{type:"text",class:"form-control",placeholder:t.$t("address"),"onUpdate:modelValue":u=>s.value=u},null,8,ho),[[k,s.value]])]),e("div",vo,[e("button",{type:"button",class:"btn-icon",onClick:u=>Q(d.addresses,_)},[$(B,{class:"bi"})],8,fo)])]))),128)),(l(!0),a(h,null,v(d.websites,(s,_)=>(l(),a("div",{class:"row mb-3",key:_},[_===0?(l(),a("label",$o,n(t.$t("website")),1)):g("",!0),e("div",{class:H(["col-md-3",{"offset-md-3":_>0}])},[b(e("select",{class:"form-select","onUpdate:modelValue":u=>s.type=u,onChange:u=>S(s)},[(l(!0),a(h,null,v(r(Y).websiteTypes,u=>(l(),a("option",{key:u,value:u},n(L(s,u,"website_type")),9,ko))),128))],40,yo),[[X,s.type,void 0,{number:!0}]])],2),e("div",go,[b(e("input",{type:"text",class:"form-control",placeholder:t.$t("website"),"onUpdate:modelValue":u=>s.value=u},null,8,Co),[[k,s.value]])]),e("div",wo,[e("button",{type:"button",class:"btn-icon",onClick:u=>Q(d.websites,_)},[$(B,{class:"bi"})],8,No)])]))),128)),(l(!0),a(h,null,v(d.ims,(s,_)=>(l(),a("div",{class:"row mb-3",key:_},[_===0?(l(),a("label",Vo,n(t.$t("im")),1)):g("",!0),e("div",{class:H(["col-md-3",{"offset-md-3":_>0}])},[b(e("select",{class:"form-select","onUpdate:modelValue":u=>s.type=u,onChange:u=>S(s)},[(l(!0),a(h,null,v(r(Y).imTypes,u=>(l(),a("option",{key:u,value:u},n(L(s,u,"im_type")),9,To))),128))],40,qo),[[X,s.type,void 0,{number:!0}]])],2),e("div",Uo,[b(e("input",{type:"text",class:"form-control",placeholder:t.$t("im"),"onUpdate:modelValue":u=>s.value=u},null,8,So),[[k,s.value]])]),e("div",Ao,[e("button",{type:"button",class:"btn-icon",onClick:u=>Q(d.ims,_)},[$(B,{class:"bi"})],8,Fo)])]))),128)),e("div",Do,[e("label",Io,n(t.$t("notes")),1),e("div",Lo,[b(e("textarea",{class:"form-control","onUpdate:modelValue":p[7]||(p[7]=s=>d.notes=s),rows:"3"},null,512),[[k,d.notes]])])]),e("div",Mo,[e("div",Qo,[$(P,null,{content:K(s=>[e("ul",Ro,[e("li",{class:"dropdown-item",onClick:()=>M(s,d.phoneNumbers)},n(t.$t("phone_number")),9,zo),e("li",{class:"dropdown-item",onClick:()=>M(s,d.emails)},n(t.$t("email")),9,jo),e("li",{class:"dropdown-item",onClick:()=>M(s,d.addresses)},n(t.$t("address")),9,Eo),e("li",{class:"dropdown-item",onClick:()=>M(s,d.websites)},n(t.$t("website")),9,Ko),e("li",{class:"dropdown-item",onClick:()=>M(s,d.ims)},n(t.$t("im")),9,Oo)])]),default:K(()=>[e("button",Bo,n(t.$t("add_field")),1)]),_:1})])])]),action:K(()=>[e("button",{type:"button",disabled:r(F)||r(I),class:"btn",onClick:p[8]||(p[8]=(...s)=>r(O)&&r(O)(...s))},n(t.$t("save")),9,Go)]),_:1},8,["title"])}}}),Zo={class:"v-toolbar"},Ho={class:"right-actions"},Wo=["title"],Jo=["title"],Xo=["title"],Yo={class:"row mb-3"},Po={class:"col-md-3 col-form-label"},xo={class:"col-md-9"},es=["onKeyup"],ts={class:"row mb-3"},os={class:"col-md-3 col-form-label"},ss={class:"col-md-9"},ls={class:"actions"},ns=["onClick"],as={class:"table"},ds=e("th",null,"ID",-1),us={class:"actions two"},cs=["onClick"],is=["onUpdate:modelValue"],rs=["src"],ps={class:"nowrap"},ms={class:"list-unstyled"},_s={key:0,class:"spinner spinner-sm"},bs={class:"list-unstyled"},hs={class:"badge"},vs=["title"],fs={class:"actions two"},$s=["onClick"],ys=["onClick"],ks={key:0},gs={colspan:"10"},Cs={class:"no-data-placeholder"},Bs=de({__name:"ContactsView",setup(V){var ie,re;const f=Pe(),{app:z}=xe(et()),d=T([]),{t:y}=Ve(),C=Ne({text:"",tags:[]}),q="CONTACT",F=tt(()=>d.value.some(o=>o.checked)),N=ot().query,I=T(parseInt(((ie=N.page)==null?void 0:ie.toString())??"1")),w=50,W=T(0),J=T([]),j=T(st(((re=N.q)==null?void 0:re.toString())??"")),U=T(""),{tags:S}=gt(q,j,C,async o=>{U.value=lt(o),await ge(),A()}),{addToTags:L}=Ct(q,d,S),{removeFromTags:M}=wt(q,d,S),{deleteItems:Q}=Re(nt,()=>{G()},d),{selectAll:O,toggleSelect:t}=ze(d),{loading:p,load:A,refetch:G}=at({handle:(o,m)=>{m?_e(y(m),"error"):o&&(d.value=o.contacts.map(E=>({...E,checked:!1})),W.value=o.contactCount)},document:dt,variables:()=>({offset:(I.value-1)*w,limit:w,query:U.value}),appApi:!0});ut({handle:(o,m)=>{m?_e(y(m),"error"):o&&(J.value=o.contactSources)},document:ct,variables:null,appApi:!0}),it(I,o=>{he(f,`/contacts?page=${o}&q=${ve(j.value)}`)});function B(){j.value=ft(C),P()}function P(){he(f,`/contacts?q=${ve(j.value)}`)}rt(()=>{pt.on("refetch_by_tag_type",o=>{o===q&&G()})});function x(o){let m="";fe(o.firstName)||fe(o.lastName)?m=`${o.lastName}${o.middleName}${o.firstName}`:m=[o.firstName,o.middleName,o.lastName].filter(oe=>oe).join(" ");const E=o.suffix?`, ${o.suffix}`:"",ee=`${o.prefix} ${m} ${E}`.trim();return ee||(o.emails.length?o.emails[0].value:"")}function s(o){le(kt,{id:o.id,name:x(o),gql:$t`
      mutation DeleteContact($id: ID!) {
        deleteContacts(ids: [$id])
      }
    `,appApi:!0,typeName:"Contact"})}function _(o){le($e,{data:o,sources:J,done:G})}function u(){le($e,{data:null,sources:J,done:G})}const ue=T(""),ce=T(0),{mutate:Se,loading:Ae}=ae({document:mt,appApi:!0});function Fe(o,m,E){ue.value=o,ce.value=E,Se({number:m})}return(o,m)=>{const E=We,ee=ye,oe=Ze,De=He,Ie=Ge,Le=je,Me=Oe,Qe=Ke,Be=Ee;return l(),a(h,null,[e("div",Zo,[$(E,{current:()=>`${o.$t("page_title.contacts")} (${W.value})`},null,8,["current"]),e("div",Ho,[r(F)?(l(),a(h,{key:0},[e("button",{type:"button",class:"btn btn-action",onClick:m[0]||(m[0]=R((...c)=>r(Q)&&r(Q)(...c),["stop"])),title:o.$t("delete")},[$(ee,{class:"bi"})],8,Wo),e("button",{type:"button",class:"btn btn-action",onClick:m[1]||(m[1]=R((...c)=>r(L)&&r(L)(...c),["stop"])),title:o.$t("add_to_tags")},[$(oe,{class:"bi"})],8,Jo),e("button",{type:"button",class:"btn btn-action",onClick:m[2]||(m[2]=R((...c)=>r(M)&&r(M)(...c),["stop"])),title:o.$t("remove_from_tags")},[$(De,{class:"bi"})],8,Xo)],64)):g("",!0),e("button",{type:"button",class:"btn btn-action",onClick:u},n(o.$t("create")),1),$(Le,{modelValue:j.value,"onUpdate:modelValue":m[5]||(m[5]=c=>j.value=c),search:P},{filters:K(()=>[e("div",Yo,[e("label",Po,n(o.$t("keywords")),1),e("div",xo,[b(e("input",{type:"text","onUpdate:modelValue":m[3]||(m[3]=c=>C.text=c),class:"form-control",onKeyup:we(B,["enter"])},null,40,es),[[k,C.text]])])]),e("div",ts,[e("label",os,n(o.$t("tags")),1),e("div",ss,[$(Ie,{modelValue:C.tags,"onUpdate:modelValue":m[4]||(m[4]=c=>C.tags=c),label:"name","track-by":"id",options:r(S)},null,8,["modelValue","options"])])]),e("div",ls,[e("button",{type:"button",class:"btn",onClick:R(B,["stop"])},n(o.$t("search")),9,ns)])]),_:1},8,["modelValue"])])]),e("table",as,[e("thead",null,[e("tr",null,[e("th",null,[b(e("input",{class:"form-check-input",type:"checkbox",onChange:m[6]||(m[6]=(...c)=>r(t)&&r(t)(...c)),"onUpdate:modelValue":m[7]||(m[7]=c=>Ce(O)?O.value=c:null)},null,544),[[be,r(O)]])]),ds,e("th",null,n(o.$t("avatar")),1),e("th",null,n(o.$t("name")),1),e("th",null,n(o.$t("phone_number")),1),e("th",null,n(o.$t("content")),1),e("th",null,n(o.$t("notes")),1),e("th",null,n(o.$t("tags")),1),e("th",null,n(o.$t("updated_at")),1),e("th",us,n(o.$t("actions")),1)])]),e("tbody",null,[(l(!0),a(h,null,v(d.value,c=>(l(),a("tr",{key:c.id,class:H({checked:c.checked}),onClick:R(i=>c.checked=!c.checked,["stop"])},[e("td",null,[b(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":i=>c.checked=i},null,8,is),[[be,c.checked]])]),e("td",null,[$(Me,{id:c.id,raw:c},null,8,["id","raw"])]),e("td",null,[c.thumbnailId?(l(),a("img",{key:0,src:r(_t)(c.thumbnailId)},null,8,rs)):g("",!0)]),e("td",null,n(x(c)),1),e("td",ps,[e("ul",ms,[(l(!0),a(h,null,v(c.phoneNumbers,(i,se)=>(l(),a("li",{key:se},[bt(n(i.type>0?o.$t(`contact.phone_number_type.${i.type}`):i.label)+" "+n(i.normalizedNumber||i.value)+" ",1),r(Ae)&&ue.value===c.id&&ce.value===se?(l(),a("i",_s)):(l(),te(Qe,{key:1,class:"bi bi-btn",onClick:R(ws=>Fe(c.id,i.normalizedNumber||i.value,se),["stop"])},null,8,["onClick"]))]))),128))])]),e("td",null,[e("ul",bs,[(l(!0),a(h,null,v(c.emails,i=>(l(),a("li",null,n(i.type>0?o.$t(`contact.email_type.${i.type}`):i.label)+" "+n(i.value),1))),256)),(l(!0),a(h,null,v(c.addresses,i=>(l(),a("li",null,n(i.type>0?o.$t(`contact.address_type.${i.type}`):i.label)+" "+n(i.value),1))),256)),(l(!0),a(h,null,v(c.websites,i=>(l(),a("li",null,n(i.type>0?o.$t(`contact.website_type.${i.type}`):i.label)+" "+n(i.value),1))),256)),(l(!0),a(h,null,v(c.ims,i=>(l(),a("li",null,n(i.type>0?o.$t(`contact.im_type.${i.type}`):i.label)+" "+n(i.value),1))),256)),(l(!0),a(h,null,v(c.events,i=>(l(),a("li",null,n(i.type>0?o.$t(`contact.event_type.${i.type}`):i.label)+" "+n(i.value),1))),256))])]),e("td",null,n(c.notes),1),e("td",null,[(l(!0),a(h,null,v(c.tags,i=>(l(),a("span",hs,n(i.name),1))),256))]),e("td",{class:"nowrap",title:r(ht)(c.updatedAt)},n(r(vt)(c.updatedAt)),9,vs),e("td",fs,[e("a",{href:"#",class:"v-link",onClick:R(i=>_(c),["stop"])},n(o.$t("edit")),9,$s),e("a",{href:"#",class:"v-link",onClick:R(i=>s(c),["stop"])},n(o.$t("delete")),9,ys)])],10,cs))),128))]),d.value.length?g("",!0):(l(),a("tfoot",ks,[e("tr",null,[e("td",gs,[e("div",Cs,n(o.$t(r(yt)(r(p),r(z).permissions,"READ_CONTACTS"))),1)])])]))]),W.value>w?(l(),te(Be,{key:0,modelValue:I.value,"onUpdate:modelValue":m[8]||(m[8]=c=>I.value=c),total:W.value,limit:w},null,8,["modelValue","total"])):g("",!0)],64)}}});export{Bs as default};
