import{_ as M}from"./LeftSidebar.vuevuetypescriptsetuptruelang-BWG8gajF.js";import{_ as S}from"./TagFilter.vuevuetypescriptsetuptruelang-DySu9lzm.js";import{o as u,c as f,a,d as T,h as k,g as V,j as x,bw as B,au as L,l as G,C as N,bx as Q,aw as z,av as q,x as w,y as D,m as s,z as K,A as P,t as h,e as F,V as I,u as R,I as E,k as j,v as H,q as b,a6 as y,a0 as U,S as Z,p as $,w as A,N as J,f as O,Z as W}from"./index-R8dLcqG_.js";import{u as X}from"./search-ByVbj6Ls.js";import{u as Y,a as tt}from"./vee-validate.esm-vpr6zxQb.js";import"./more-vert-zjmMMiPD.js";import"./EditValueModal-O1aAFYgx.js";const et={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ot=a("path",{fill:"currentColor",d:"m9.25 22l-.4-3.2q-.325-.125-.612-.3t-.563-.375L4.7 19.375l-2.75-4.75l2.575-1.95Q4.5 12.5 4.5 12.338v-.675q0-.163.025-.338L1.95 9.375l2.75-4.75l2.975 1.25q.275-.2.575-.375t.6-.3l.4-3.2h5.5l.4 3.2q.325.125.613.3t.562.375l2.975-1.25l2.75 4.75l-2.575 1.95q.025.175.025.338v.674q0 .163-.05.338l2.575 1.95l-2.75 4.75l-2.95-1.25q-.275.2-.575.375t-.6.3l-.4 3.2zM11 20h1.975l.35-2.65q.775-.2 1.438-.587t1.212-.938l2.475 1.025l.975-1.7l-2.15-1.625q.125-.35.175-.737T17.5 12t-.05-.787t-.175-.738l2.15-1.625l-.975-1.7l-2.475 1.05q-.55-.575-1.212-.962t-1.438-.588L13 4h-1.975l-.35 2.65q-.775.2-1.437.588t-1.213.937L5.55 7.15l-.975 1.7l2.15 1.6q-.125.375-.175.75t-.05.8q0 .4.05.775t.175.75l-2.15 1.625l.975 1.7l2.475-1.05q.55.575 1.213.963t1.437.587zm1.05-4.5q1.45 0 2.475-1.025T15.55 12t-1.025-2.475T12.05 8.5q-1.475 0-2.488 1.025T8.55 12t1.013 2.475T12.05 15.5M12 12"},null,-1),st=[ot];function at(g,d){return u(),f("svg",et,[...st])}const nt={name:"material-symbols-settings-outline",render:at},lt=a("div",{slot:"headline"},"ChatGPT",-1),it={slot:"content"},rt=["label","error","error-text"],ct={slot:"actions"},ut=["disabled"],dt={key:0,indeterminate:"",slot:"icon"},pt=T({__name:"AIChatConfigModal",props:{value:{type:String}},setup(g){const{handleSubmit:d}=Y(),p=k(),{t:r}=V(),c=g,{mutate:_,loading:m,onDone:C}=x({document:B,options:{update:()=>{}},appApi:!0}),{value:t,resetField:v,errorMessage:n}=tt("inputValue",L());t.value=c.value??"",t.value||v(),G({handle:(o,e)=>{e?N(r(e),"error"):o&&(t.value=o.aiChatConfig.chatGPTApiKey)},document:Q,variables:null,appApi:!0}),(async()=>{var o;await z(),(o=p.value)==null||o.focus()})();const i=d(()=>{_({chatGPTApiKey:t.value??""})});return C(()=>{q()}),(o,e)=>(u(),f("md-dialog",null,[lt,a("div",it,[w(a("md-outlined-text-field",{ref_key:"input",ref:p,label:o.$t("api_key"),class:"form-control","onUpdate:modelValue":e[0]||(e[0]=l=>K(t)?t.value=l:null),onKeyup:e[1]||(e[1]=P((...l)=>s(i)&&s(i)(...l),["enter"])),error:s(n),"error-text":s(n)?o.$t(s(n)):""},null,40,rt),[[D,s(t)]])]),a("div",ct,[a("md-outlined-button",{value:"cancel",onClick:e[2]||(e[2]=(...l)=>s(q)&&s(q)(...l))},h(o.$t("cancel")),1),a("md-filled-button",{value:"save",disabled:s(m),onClick:e[3]||(e[3]=(...l)=>s(i)&&s(i)(...l)),autofocus:""},[s(m)?(u(),f("md-circular-progress",dt)):F("",!0),I(" "+h(o.$t("save")),1)],8,ut)])]))}}),_t=a("md-ripple",null,null,-1),mt={class:"nav"},vt={class:"title"},$t=T({__name:"AIChatsSidebar",setup(g){const d=R(),{parseQ:p}=X(),r=E({tagIds:[]}),c=k("");function _(){var n;const t=y.currentRoute.value,v=U(((n=t.query.q)==null?void 0:n.toString())??"");p(r,v),c.value=r.tagIds.length===1?r.tagIds[0]:""}_(),j(()=>y.currentRoute.value,()=>{_()});function m(){O(d,"/aichats")}function C(){W(pt)}return(t,v)=>{const n=nt,i=S,o=M,e=Z("tooltip");return u(),H(o,null,{title:b(()=>[I(h(t.$t("page_title.aichats")),1)]),actions:b(()=>[w((u(),f("button",{class:"btn-icon",onClick:A(C,["prevent"])},[_t,$(n)])),[[e,t.$t("config")]])]),body:b(()=>[a("ul",mt,[a("li",{onClick:A(m,["prevent"]),class:J({active:!c.value})},[a("span",vt,h(t.$t("all")),1)],2)]),$(i,{type:"AI_CHAT",selected:c.value},null,8,["selected"])]),_:1})}}});export{$t as default};
