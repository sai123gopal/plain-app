import{c as Ke,u as Je,_ as We,a as Xe,b as Ye}from"./list-18c9d8b7.js";import{o as n,e as o,f as e,d as de,r as I,ai as we,aj as E,O as Ne,t as _,L as m,R as v,h as u,ak as Pe,al as et,_ as qe,B as Ve,u as Te,a1 as se,am as fe,an as ve,j as T,x as f,F as h,A as $,y as ae,ao as tt,a9 as Ue,ap as lt,a as nt,s as ot,c as st,D as at,p as dt,C as ut,E as it,i as rt,G as ct,H as _t,I as G,J as pt,K as mt,w as R,M as ht,N as ft,aq as vt,k as $e,ar as $t,as as bt,n as be,Q as ye,X as le,a4 as yt,z as gt,at as kt,g as ge,T as Ct,U as wt,au as Nt,av as qt,W as Vt,Y as Tt,aw as ke,V as Ut,a7 as It,a8 as At,Z as St,$ as Dt,a0 as Lt}from"./index-391e08bf.js";import{_ as Mt}from"./call-outline-rounded-c8418086.js";import{_ as Ft}from"./Breadcrumb-db40a1f3.js";import{n as xt}from"./list-6498ebd9.js";import{u as Ie,a as Ae}from"./vee-validate.esm-910387f0.js";import{u as Rt,a as Bt}from"./tags-8c2303eb.js";const Qt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},zt=e("path",{fill:"currentColor",d:"m19.3 8.925l-4.25-4.2l1.4-1.4q.575-.575 1.413-.575t1.412.575l1.4 1.4q.575.575.6 1.388t-.55 1.387L19.3 8.925ZM17.85 10.4L7.25 21H3v-4.25l10.6-10.6l4.25 4.25Z"},null,-1),Zt=[zt];function jt(g,b){return n(),o("svg",Qt,Zt)}const Et={name:"material-symbols-edit",render:jt},Ot={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Gt=e("path",{fill:"currentColor",d:"M6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 7.825L8.1 11.7q-.275.275-.688.288T6.7 11.7Zm0 6q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212t.375-.063q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 13.825L8.1 17.7q-.275.275-.688.288T6.7 17.7Z"},null,-1),Ht=[Gt];function Kt(g,b){return n(),o("svg",Ot,Ht)}const Jt={name:"material-symbols-keyboard-double-arrow-up-rounded",render:Kt},Wt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Xt=e("path",{fill:"currentColor",d:"M12 12.575q-.2 0-.375-.062T11.3 12.3L6.7 7.7q-.275-.275-.288-.688T6.7 6.3q.275-.275.7-.275t.7.275l3.9 3.875L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Zm0 6q-.2 0-.375-.062T11.3 18.3l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275l3.9 3.875l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Z"},null,-1),Yt=[Xt];function Pt(g,b){return n(),o("svg",Wt,Yt)}const el={name:"material-symbols-keyboard-double-arrow-down-rounded",render:Pt};function H(g){return Array.from({length:g},(b,B)=>B+1).concat(-1)}const X={phoneNumberTypes:H(20),emailTypes:H(4),addressTypes:H(3),eventTypes:H(3),imTypes:H(8),websiteTypes:H(7)},tl={slot:"headline"},ll={slot:"content"},nl=["error","error-text"],ol={slot:"actions"},sl=de({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(g){const b=g,{handleSubmit:B}=Ie(),d=I(),{value:C,resetField:M,errorMessage:w}=Ae("inputValue",we().required()),k=B(()=>{b.do(C.value??""),E()});return C.value=b.value,b.value||M(),(async()=>{var A;await Ne(),(A=d.value)==null||A.focus()})(),(A,q)=>(n(),o("md-dialog",null,[e("div",tl,_(g.title),1),e("div",ll,[m(e("md-outlined-text-field",{ref_key:"inputRef",ref:d,class:"form-control",error:u(w),"error-text":u(w)?A.$t(u(w)):"","onUpdate:modelValue":q[0]||(q[0]=N=>Pe(C)?C.value=N:null),onKeyup:q[1]||(q[1]=et((...N)=>u(k)&&u(k)(...N),["enter"]))},null,40,nl),[[v,u(C)]])]),e("div",ol,[e("md-outlined-button",{value:"cancel",onClick:q[2]||(q[2]=(...N)=>u(E)&&u(E)(...N))},_(A.$t("cancel")),1),e("md-filled-button",{value:"ok",onClick:q[3]||(q[3]=(...N)=>u(k)&&u(k)(...N)),autofocus:""},_(A.$t("ok")),1)])]))}});const al=qe(sl,[["__scopeId","data-v-263cf3df"]]),dl={slot:"headline"},ul={slot:"content"},il={class:"form-label"},rl={class:"form-row"},cl=["label"],_l=["label"],pl=["label"],ml={key:1,class:"v-center"},hl=e("md-ripple",null,null,-1),fl={key:0,class:"form-row"},vl=["label"],$l=["label"],bl={class:"v-center"},yl=e("md-ripple",null,null,-1),gl={class:"form-label"},kl=["onUpdate:modelValue","onChange"],Cl=["value","headline"],wl=["placeholder","onUpdate:modelValue"],Nl={class:"v-center"},ql=["onClick"],Vl=e("md-ripple",null,null,-1),Tl={key:1,class:"form-label"},Ul=["onUpdate:modelValue","onChange"],Il=["value","headline"],Al=["label","onUpdate:modelValue"],Sl={class:"v-center"},Dl=["onClick"],Ll=e("md-ripple",null,null,-1),Ml={key:2,class:"form-label"},Fl=["onUpdate:modelValue","onChange"],xl=["value","headline"],Rl=["label","onUpdate:modelValue"],Bl={class:"v-center"},Ql=["onClick"],zl=e("md-ripple",null,null,-1),Zl={key:3,class:"form-label"},jl=["onUpdate:modelValue","onChange"],El=["value","headline"],Ol=["placeholder","onUpdate:modelValue"],Gl={class:"v-center"},Hl=["onClick"],Kl=e("md-ripple",null,null,-1),Jl={key:4,class:"form-label"},Wl=["onUpdate:modelValue","onChange"],Xl=["value","headline"],Yl=["placeholder","onUpdate:modelValue"],Pl={class:"v-center"},en=["onClick"],tn=e("md-ripple",null,null,-1),ln={class:"form-row",style:{display:"block",position:"relative"}},nn={class:"menu-items"},on=["headline","onClick"],sn=["headline","onClick"],an=["headline","onClick"],dn=["headline","onClick"],un=["headline","onClick"],rn={class:"form-row"},cn=["label"],_n={slot:"actions"},pn=["disabled"],Ce=de({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(g){const b=g,{handleSubmit:B}=Ie(),d=Ve({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),C=I(!1),{t:M}=Te(),{mutate:w,loading:k,onDone:A}=se({document:fe`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${ve}
  `,options:{update:()=>{b.done()}},appApi:!0}),{mutate:q,loading:N,onDone:K}=se({document:fe`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${ve}
  `,options:{update:()=>{b.done()}},appApi:!0}),{value:Q,resetField:O,errorMessage:J}=Ae("inputValue",we().test("required",l=>"valid.required",l=>!0).test("target-value",l=>"invalid_value",l=>!0)),F=(l,c)=>{l.splice(0,l.length);for(const U of c)l.push({label:U.label,value:U.value,type:U.type})};(()=>{const l=b.data;l?(Object.assign(d,{firstName:l.firstName,middleName:l.middleName,lastName:l.lastName,prefix:l.prefix,suffix:l.suffix,notes:l.notes}),F(d.phoneNumbers,l.phoneNumbers),F(d.emails,l.emails),F(d.addresses,l.addresses),F(d.websites,l.websites),F(d.events,l.events),F(d.ims,l.ims)):(Object.assign(d,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),O())})();const z=l=>{l.type===-1&&tt(al,{value:l.label,title:M("custom"),do:c=>{l.label=c}})},x=(l,c,U)=>c===-1?l.label?l.label:M("custom"):M(`contact.${U}.${c}`),S=(l,c)=>{c.push({type:1,value:"",label:""}),l.close()},Z=(l,c)=>{l.splice(c,1)},P=B(()=>{var l,c;b.data?q({id:b.data.id,input:d}):(d.source=((c=(l=b.sources)==null?void 0:l[0])==null?void 0:c.name)??"",w({input:d}))});return A(()=>{E()}),K(()=>{E()}),(l,c)=>{const U=el,ne=Jt,V=Ue,ee=lt;return n(),o("md-dialog",null,[e("div",dl,_(g.data?l.$t("edit"):l.$t("create")),1),e("div",ul,[e("label",il,_(l.$t("name")),1),e("div",rl,[m(e("md-outlined-text-field",{label:l.$t("first_name"),"onUpdate:modelValue":c[0]||(c[0]=s=>d.firstName=s)},null,8,cl),[[v,d.firstName]]),C.value?m((n(),o("md-outlined-text-field",{key:0,label:l.$t("middle_name"),"onUpdate:modelValue":c[1]||(c[1]=s=>d.middleName=s)},null,8,_l)),[[v,d.middleName]]):T("",!0),m(e("md-outlined-text-field",{label:l.$t("last_name"),"onUpdate:modelValue":c[2]||(c[2]=s=>d.lastName=s)},null,8,pl),[[v,d.lastName]]),C.value?T("",!0):(n(),o("div",ml,[e("button",{class:"icon-button",onClick:c[3]||(c[3]=s=>C.value=!0)},[hl,f(U)])]))]),C.value?(n(),o("div",fl,[m(e("md-outlined-text-field",{label:l.$t("prefix"),"onUpdate:modelValue":c[4]||(c[4]=s=>d.prefix=s)},null,8,vl),[[v,d.prefix]]),m(e("md-outlined-text-field",{label:l.$t("suffix"),"onUpdate:modelValue":c[5]||(c[5]=s=>d.suffix=s)},null,8,$l),[[v,d.suffix]]),e("div",bl,[e("button",{class:"icon-button",onClick:c[6]||(c[6]=s=>C.value=!1)},[yl,f(ne)])])])):T("",!0),e("label",gl,_(l.$t("phone_number")),1),(n(!0),o(h,null,$(d.phoneNumbers,(s,y)=>(n(),o("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":a=>s.type=a,onChange:a=>z(s)},[(n(!0),o(h,null,$(u(X).phoneNumberTypes,a=>(n(),o("md-select-option",{key:a,value:a,headline:x(s,a,"phone_number_type")},null,8,Cl))),128))],40,kl),[[v,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("telephone"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,wl),[[v,s.value]]),e("div",Nl,[d.phoneNumbers.length>1?(n(),o("button",{key:0,class:"icon-button",onClick:a=>Z(d.phoneNumbers,y)},[Vl,f(V)],8,ql)):T("",!0)])]))),128)),d.emails.length?(n(),o("label",Tl,_(l.$t("email")),1)):T("",!0),(n(!0),o(h,null,$(d.emails,(s,y)=>(n(),o("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":a=>s.type=a,onChange:a=>z(s)},[(n(!0),o(h,null,$(u(X).emailTypes,a=>(n(),o("md-select-option",{key:a,value:a,headline:x(s,a,"email_type")},null,8,Il))),128))],40,Ul),[[v,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{label:l.$t("email"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Al),[[v,s.value]]),e("div",Sl,[e("button",{class:"icon-button",onClick:a=>Z(d.emails,y)},[Ll,f(V)],8,Dl)])]))),128)),d.addresses.length?(n(),o("label",Ml,_(l.$t("address")),1)):T("",!0),(n(!0),o(h,null,$(d.addresses,(s,y)=>(n(),o("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":a=>s.type=a,onChange:a=>z(s)},[(n(!0),o(h,null,$(u(X).addressTypes,a=>(n(),o("md-select-option",{key:a,value:a,headline:x(s,a,"address_type")},null,8,xl))),128))],40,Fl),[[v,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{label:l.$t("address"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Rl),[[v,s.value]]),e("div",Bl,[e("button",{class:"icon-button",onClick:a=>Z(d.addresses,y)},[zl,f(V)],8,Ql)])]))),128)),d.websites.length?(n(),o("label",Zl,_(l.$t("website")),1)):T("",!0),(n(!0),o(h,null,$(d.websites,(s,y)=>(n(),o("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":a=>s.type=a,onChange:a=>z(s)},[(n(!0),o(h,null,$(u(X).websiteTypes,a=>(n(),o("md-select-option",{key:a,value:a,headline:x(s,a,"website_type")},null,8,El))),128))],40,jl),[[v,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("website"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Ol),[[v,s.value]]),e("div",Gl,[e("button",{class:"icon-button",onClick:a=>Z(d.websites,y)},[Kl,f(V)],8,Hl)])]))),128)),d.ims.length?(n(),o("label",Jl,_(l.$t("im")),1)):T("",!0),(n(!0),o(h,null,$(d.ims,(s,y)=>(n(),o("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":a=>s.type=a,onChange:a=>z(s)},[(n(!0),o(h,null,$(u(X).imTypes,a=>(n(),o("md-select-option",{key:a,value:a,headline:x(s,a,"im_type")},null,8,Xl))),128))],40,Wl),[[v,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("im"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Yl),[[v,s.value]]),e("div",Pl,[e("button",{class:"icon-button",onClick:a=>Z(d.ims,y)},[tn,f(V)],8,en)])]))),128)),e("div",ln,[f(ee,{placement:"auto"},{content:ae(s=>[e("div",nn,[e("md-menu-item",{headline:l.$t("phone_number"),onClick:()=>S(s,d.phoneNumbers)},null,8,on),e("md-menu-item",{headline:l.$t("email"),onClick:()=>S(s,d.emails)},null,8,sn),e("md-menu-item",{headline:l.$t("address"),onClick:()=>S(s,d.addresses)},null,8,an),e("md-menu-item",{headline:l.$t("website"),onClick:()=>S(s,d.websites)},null,8,dn),e("md-menu-item",{headline:l.$t("im"),onClick:()=>S(s,d.ims)},null,8,un)])]),default:ae(()=>[e("div",null,[e("md-outlined-button",null,_(l.$t("add_field")),1)])]),_:1})]),e("div",rn,[m(e("md-outlined-text-field",{type:"textarea",label:l.$t("notes"),"onUpdate:modelValue":c[7]||(c[7]=s=>d.notes=s),rows:"3"},null,8,cn),[[v,d.notes]])])]),e("div",_n,[e("md-outlined-button",{value:"cancel",onClick:c[8]||(c[8]=(...s)=>u(E)&&u(E)(...s))},_(l.$t("cancel")),1),e("md-filled-button",{value:"save",disabled:u(k)||u(N),onClick:c[9]||(c[9]=(...s)=>u(P)&&u(P)(...s)),autofocus:""},_(l.$t("save")),9,pn)])])}}}),L=g=>(Nt("data-v-0e559e76"),g=g(),qt(),g),mn={class:"v-toolbar"},hn=L(()=>e("md-ripple",null,null,-1)),fn=L(()=>e("md-ripple",null,null,-1)),vn={class:"filters"},$n=["label"],bn={class:"form-label"},yn={type:"filter"},gn=["label","selected","onClick"],kn={class:"buttons"},Cn=["onClick"],wn={class:"table-responsive"},Nn={class:"table"},qn=["checked","indeterminate"],Vn=L(()=>e("th",null,"ID",-1)),Tn=L(()=>e("th",null,null,-1)),Un=L(()=>e("th",null,null,-1)),In=["onClick"],An=["checked"],Sn=["src"],Dn={class:"nowrap"},Ln={class:"nowrap"},Mn={class:"list-unstyled"},Fn={key:0,indeterminate:"",class:"spinner-sm"},xn=["onClick"],Rn=L(()=>e("md-ripple",null,null,-1)),Bn={class:"nowrap"},Qn={class:"action-btns"},zn=["onClick"],Zn=L(()=>e("md-ripple",null,null,-1)),jn=["onClick"],En=L(()=>e("md-ripple",null,null,-1)),On=["onClick"],Gn=L(()=>e("md-ripple",null,null,-1)),Hn={class:"nowrap"},Kn={key:0},Jn={colspan:"9"},Wn={class:"no-data-placeholder"},Y=50,Xn=de({__name:"ContactsView",setup(g){var me,he;const b=nt(),{app:B}=ot(st()),d=I([]),C=I(),{t:M}=Te(),w=Ve({text:"",tags:[]}),k=at.CONTACT,q=dt().query,N=I(parseInt(((me=q.page)==null?void 0:me.toString())??"1")),K=I([]),Q=I(ut(((he=q.q)==null?void 0:he.toString())??"")),O=I(""),{tags:J}=Rt(k,Q,w,async t=>{O.value=ft(t),await Ne(),y()}),{addToTags:F}=Bt(k,d,J),{deleteItems:z}=Ke(vt,()=>{l(),a(),G.emit("refetch_tags",k)},d),{allChecked:x,realAllChecked:S,selectRealAll:Z,allCheckedAlertVisible:P,clearSelection:l,toggleAllChecked:c,toggleItemChecked:U,toggleRow:ne,total:V,checked:ee}=Je(d),{loading:s,load:y,refetch:a}=it({handle:(t,p)=>{p?$e(M(p),"error"):t&&(d.value=t.contacts.map(D=>({...D,checked:!1})),V.value=t.contactCount)},document:$t,variables:()=>({offset:(N.value-1)*Y,limit:Y,query:O.value}),appApi:!0});rt({handle:(t,p)=>{p?$e(M(p),"error"):t&&(K.value=t.contactSources)},document:bt,variables:null,appApi:!0}),ct(N,t=>{be(b,`/contacts?page=${t}&q=${ye(Q.value)}`)});function Se(){Q.value=Vt(w),ue(),C.value.dismiss()}function ue(){be(b,`/contacts?q=${ye(Q.value)}`)}const ie=t=>{t.type===k&&(l(),a())},re=t=>{t.type===k&&a()};_t(()=>{G.on("item_tags_updated",re),G.on("items_tags_updated",ie)}),pt(()=>{G.off("item_tags_updated",re),G.off("items_tags_updated",ie)});function De(t){le(Tt,{type:k,tags:J.value,item:{key:t.id,title:"",size:0},selected:J.value.filter(p=>t.tags.some(D=>D.id===p.id))})}function ce(t){let p="";ke(t.firstName)||ke(t.lastName)?p=`${t.lastName}${t.middleName}${t.firstName}`:p=[t.firstName,t.middleName,t.lastName].filter(te=>te).join(" ");const D=t.suffix?`, ${t.suffix}`:"",W=`${t.prefix} ${p} ${D}`.trim();return W||(t.emails.length?t.emails[0].value:"")}function Le(t){w.tags.includes(t)?Ut(w.tags,p=>p.id===t.id):w.tags.push(t)}function Me(t){le(At,{id:t.id,name:ce(t),gql:It`
      mutation DeleteContact($query: String!) {
        deleteContacts(query: $query)
      }
    `,variables:()=>({query:`ids:${t.id}`}),appApi:!0,typeName:"Contact",done:()=>{V.value--,t.tags.length&&G.emit("refetch_tags",k)}})}function Fe(t){le(Ce,{data:t,sources:K,done:a})}function xe(){le(Ce,{data:null,sources:K,done:a})}const _e=I(""),pe=I(0),{mutate:Re,loading:Be}=se({document:yt,appApi:!0});function Qe(t,p,D){_e.value=t,pe.value=D,Re({number:p})}return(t,p)=>{const D=Ft,W=Ue,te=St,ze=We,Ze=Xe,je=Dt,Ee=Mt,Oe=Et,Ge=Lt,He=Ye,j=mt("tooltip");return n(),o(h,null,[e("div",mn,[f(D,{current:()=>`${t.$t("page_title.contacts")} (${u(V)})`},null,8,["current"]),u(ee)?(n(),o(h,{key:0},[m((n(),o("button",{class:"icon-button",onClick:p[0]||(p[0]=R(i=>u(z)(u(S),O.value),["stop"]))},[hn,f(W)])),[[j,t.$t("delete")]]),m((n(),o("button",{class:"icon-button",onClick:p[1]||(p[1]=R(i=>u(F)(u(S),O.value),["stop"]))},[fn,f(te)])),[[j,t.$t("add_to_tags")]])],64)):T("",!0),e("md-outlined-button",{onClick:xe,style:{"margin-inline-start":"16px"}},_(t.$t("create")),1),f(ze,{ref_key:"searchInputRef",ref:C,modelValue:Q.value,"onUpdate:modelValue":p[3]||(p[3]=i=>Q.value=i),search:ue},{filters:ae(()=>[e("div",vn,[m(e("md-outlined-text-field",{label:t.$t("keywords"),"onUpdate:modelValue":p[2]||(p[2]=i=>w.text=i),"keyup.enter":"applyAndDoSearch"},null,8,$n),[[v,w.text]]),e("label",bn,_(t.$t("tags")),1),e("md-chip-set",yn,[(n(!0),o(h,null,$(u(J),i=>(n(),o("md-filter-chip",{key:i.id,label:i.name,selected:w.tags.includes(i),onClick:r=>Le(i)},null,8,gn))),128))]),e("div",kn,[e("md-filled-button",{onClick:R(Se,["stop"])},_(t.$t("search")),9,Cn)])])]),_:1},8,["modelValue"])]),f(Ze,{limit:Y,total:u(V),"all-checked-alert-visible":u(P),"real-all-checked":u(S),"select-real-all":u(Z),"clear-selection":u(l)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),e("div",wn,[e("table",Nn,[e("thead",null,[e("tr",null,[e("th",null,[e("md-checkbox",{"touch-target":"wrapper",onChange:p[4]||(p[4]=(...i)=>u(c)&&u(c)(...i)),checked:u(x),indeterminate:!u(x)&&u(ee)},null,40,qn)]),Vn,e("th",null,_(t.$t("avatar")),1),e("th",null,_(t.$t("name")),1),Tn,Un,e("th",null,_(t.$t("notes")),1),e("th",null,_(t.$t("tags")),1),e("th",null,_(t.$t("updated_at")),1)])]),e("tbody",null,[(n(!0),o(h,null,$(d.value,i=>(n(),o("tr",{key:i.id,class:gt({selected:i.checked}),onClick:R(r=>u(ne)(i),["stop"])},[e("td",null,[e("md-checkbox",{"touch-target":"wrapper",onChange:p[5]||(p[5]=(...r)=>u(U)&&u(U)(...r)),checked:i.checked},null,40,An)]),e("td",null,[f(je,{id:i.id,raw:i},null,8,["id","raw"])]),e("td",null,[i.thumbnailId?(n(),o("img",{key:0,src:u(kt)(i.thumbnailId),width:"50"},null,8,Sn)):T("",!0)]),e("td",Dn,_(ce(i)),1),e("td",Ln,[e("ul",Mn,[(n(!0),o(h,null,$(i.phoneNumbers,(r,oe)=>(n(),o("li",{class:"v-center",key:oe},[ge(_(r.type>0?t.$t(`contact.phone_number_type.${r.type}`):r.label)+" "+_(r.normalizedNumber||r.value)+" ",1),u(Be)&&_e.value===i.id&&pe.value===oe?(n(),o("md-circular-progress",Fn)):m((n(),o("button",{key:1,class:"icon-button",onClick:R(Yn=>Qe(i.id,r.normalizedNumber||r.value,oe),["stop"])},[Rn,f(Ee)],8,xn)),[[j,t.$t("make_a_phone_call")]])]))),128)),(n(!0),o(h,null,$(i.emails,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.email_type.${r.type}`):r.label)+" "+_(r.value),1))),256)),(n(!0),o(h,null,$(i.addresses,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.address_type.${r.type}`):r.label)+" "+_(r.value),1))),256)),(n(!0),o(h,null,$(i.websites,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.website_type.${r.type}`):r.label)+" "+_(r.value),1))),256)),(n(!0),o(h,null,$(i.ims,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.im_type.${r.type}`):r.label)+" "+_(r.value),1))),256)),(n(!0),o(h,null,$(i.events,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.event_type.${r.type}`):r.label)+" "+_(r.value),1))),256))])]),e("td",Bn,[e("div",Qn,[m((n(),o("button",{class:"icon-button",onClick:R(r=>Me(i),["stop"])},[Zn,f(W)],8,zn)),[[j,t.$t("delete")]]),m((n(),o("button",{class:"icon-button",onClick:R(r=>Fe(i),["stop"])},[En,f(Oe)],8,jn)),[[j,t.$t("edit")]]),m((n(),o("button",{class:"icon-button",onClick:R(r=>De(i),["stop"])},[Gn,f(te)],8,On)),[[j,t.$t("add_to_tags")]])])]),e("td",null,_(i.notes),1),e("td",null,[f(Ge,{tags:i.tags,type:u(k)},null,8,["tags","type"])]),e("td",Hn,[m((n(),o("span",null,[ge(_(u(wt)(i.updatedAt)),1)])),[[j,u(Ct)(i.updatedAt)]])])],10,In))),128))]),d.value.length?T("",!0):(n(),o("tfoot",Kn,[e("tr",null,[e("td",Jn,[e("div",Wn,_(t.$t(u(xt)(u(s),u(B).permissions,"READ_CONTACTS"))),1)])])]))])]),u(V)>Y?(n(),ht(He,{key:0,modelValue:N.value,"onUpdate:modelValue":p[6]||(p[6]=i=>N.value=i),total:u(V),limit:Y},null,8,["modelValue","total"])):T("",!0)],64)}}});const ao=qe(Xn,[["__scopeId","data-v-0e559e76"]]);export{ao as default};
