import{_ as q}from"./LeftSidebar.vuevuetypescriptsetuptruelang-B6Ke7euJ.js";import{_ as w}from"./TagFilter.vuevuetypescriptsetuptruelang-uBMdMrN4.js";import{d as B,u as $,s as I,i as V,I as L,h as _,K as Q,k as A,v as R,q as m,bd as z,a6 as f,a0 as E,o as i,V as M,t as s,a,w as h,N as v,m as l,c as g,e as y,p as x,a7 as D,f as S,a8 as G}from"./index-Dn0O6zoH.js";import{u as K}from"./search-DrT1IjAg.js";import"./more-vert-De1QBMLo.js";import"./EditValueModal-Du2st8tU.js";import"./vee-validate.esm-0lx5owW0.js";const O={class:"nav"},P={class:"title"},j={key:0,class:"count"},F={class:"title"},H={key:0,class:"count"},se=B({__name:"NotesSidebar",setup(J){const u=$(),{counter:t}=I(V()),{parseQ:T}=K(),o=L({tagIds:[]}),n=_(!1),r=_(""),{fetch:k}=Q({handle:e=>{e&&(t.value.notes=e.total,t.value.notesTrash=e.trash)},document:z,variables:()=>({}),appApi:!0});function p(){var c;const e=f.currentRoute.value,d=E(((c=e.query.q)==null?void 0:c.toString())??"");T(o,d),r.value=o.tagIds.length===1?o.tagIds[0]:"",n.value=o.trash??!1,n.value&&(r.value=""),k()}p(),A(()=>f.currentRoute.value,()=>{p()});function C(){const e=D([{name:"trash",op:"",value:"true"}]);S(u,`/notes?q=${G(e)}`)}function N(){S(u,"/notes")}return(e,d)=>{const c=w,b=q;return i(),R(b,null,{title:m(()=>[M(s(e.$t("page_title.notes")),1)]),body:m(()=>[a("ul",O,[a("li",{onClick:h(N,["prevent"]),class:v({active:!r.value&&!n.value})},[a("span",P,s(e.$t("all")),1),l(t).notes>=0?(i(),g("span",j,s(l(t).notes.toLocaleString()),1)):y("",!0)],2),a("li",{onClick:h(C,["prevent"]),class:v({active:n.value})},[a("span",F,s(e.$t("trash")),1),l(t).notesTrash>=0?(i(),g("span",H,s(l(t).notesTrash.toLocaleString()),1)):y("",!0)],2)]),x(c,{type:"NOTE",selected:r.value},null,8,["selected"])]),_:1})}}});export{se as default};
