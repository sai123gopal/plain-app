import{_ as b}from"./LeftSidebar.vuevuetypescriptsetuptruelang-BWG8gajF.js";import{d as w,u as L,s as T,i as A,I as N,h as k,K as Q,k as V,v as R,q as g,at as z,a6 as S,a0 as I,o as r,V as M,t,a,w as p,N as u,m as l,c as m,e as v,a7 as D,f as h,a8 as E}from"./index-R8dLcqG_.js";import{u as G}from"./search-ByVbj6Ls.js";const K={class:"nav"},P={class:"title"},j={key:0,class:"count"},x={class:"title"},F={key:0,class:"count"},H={class:"title"},J={key:0,class:"count"},Y=w({__name:"AppsSidebar",setup(O){const y=L(),{counter:o}=T(A()),{parseQ:C}=G(),_=N({tagIds:[]}),n=k(""),i=k(-1),{fetch:$}=Q({handle:e=>{e&&(o.value.packages=e.total,o.value.packagesSystem=e.system,i.value=e.total-e.system)},document:z,variables:()=>({}),appApi:!0});function d(){var c;const e=S.currentRoute.value,s=I(((c=e.query.q)==null?void 0:c.toString())??"");C(_,s),n.value=_.type??"",$()}function f(e){const s=D([{name:"type",op:"",value:e}]);h(y,`/apps?q=${E(s)}`)}function B(){h(y,"/apps")}return d(),V(()=>S.currentRoute.value,()=>{d()}),(e,s)=>{const c=b;return r(),R(c,null,{title:g(()=>[M(t(e.$t("page_title.apps")),1)]),body:g(()=>[a("ul",K,[a("li",{onClick:p(B,["prevent"]),class:u({active:!n.value})},[a("span",P,t(e.$t("all")),1),l(o).packages>=0?(r(),m("span",j,t(l(o).packages.toLocaleString()),1)):v("",!0)],2),a("li",{onClick:s[0]||(s[0]=p(q=>f("user"),["prevent"])),class:u({active:n.value==="user"})},[a("span",x,t(e.$t("app_type.user")),1),i.value>=0?(r(),m("span",F,t(i.value.toLocaleString()),1)):v("",!0)],2),a("li",{onClick:s[1]||(s[1]=p(q=>f("system"),["prevent"])),class:u({active:n.value==="system"})},[a("span",H,t(e.$t("app_type.system")),1),l(o).packagesSystem>=0?(r(),m("span",J,t(l(o).packagesSystem.toLocaleString()),1)):v("",!0)],2)])]),_:1})}}});export{Y as default};
