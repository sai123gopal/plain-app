import{c as Je,u as Pe,_ as Xe,a as We,b as Ye}from"./list-002e9cb7.js";import{o,c as n,a as e,d as de,r as I,g as Ne,ao as O,V as qe,t as u,n as m,v as f,k as i,p as et,ap as tt,_ as Ve,L as Te,u as Ue,i as se,aq as fe,ar as be,l as T,q as h,F as v,K as b,I as ae,as as lt,ae as Ie,at as ot,e as nt,s as st,f as at,M as dt,E as it,N as ut,O as rt,h as ct,w as _t,P as pt,Q as G,R as mt,S as ht,m as B,T as vt,U as ft,au as bt,y as $e,av as $t,aw as yt,D as ye,X as ge,a3 as te,x as gt,J as kt,ax as Ct,j as ke,Z as wt,$ as Nt,a0 as qt,B as Vt,C as Tt,a2 as Ut,a4 as It,ay as Ce,a1 as St,ac as At,ad as Dt,an as Lt,a5 as Mt,a6 as Ft,a7 as xt}from"./index-2583f876.js";import{_ as Rt}from"./call-outline-rounded-5e943061.js";import{_ as Bt}from"./Breadcrumb-ef080890.js";import{u as Se,a as Ae}from"./vee-validate.esm-b0601c3b.js";import{u as Qt,a as Zt}from"./tags-7ff9be78.js";const zt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Et=e("path",{fill:"currentColor",d:"m19.3 8.925l-4.25-4.2l1.4-1.4q.575-.575 1.413-.575t1.412.575l1.4 1.4q.575.575.6 1.388t-.55 1.387L19.3 8.925ZM17.85 10.4L7.25 21H3v-4.25l10.6-10.6l4.25 4.25Z"},null,-1),Ot=[Et];function jt(g,$){return o(),n("svg",zt,Ot)}const Gt={name:"material-symbols-edit",render:jt},Kt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ht=e("path",{fill:"currentColor",d:"M6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 7.825L8.1 11.7q-.275.275-.688.288T6.7 11.7Zm0 6q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212t.375-.063q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 13.825L8.1 17.7q-.275.275-.688.288T6.7 17.7Z"},null,-1),Jt=[Ht];function Pt(g,$){return o(),n("svg",Kt,Jt)}const Xt={name:"material-symbols-keyboard-double-arrow-up-rounded",render:Pt},Wt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Yt=e("path",{fill:"currentColor",d:"M12 12.575q-.2 0-.375-.062T11.3 12.3L6.7 7.7q-.275-.275-.288-.688T6.7 6.3q.275-.275.7-.275t.7.275l3.9 3.875L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Zm0 6q-.2 0-.375-.062T11.3 18.3l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275l3.9 3.875l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Z"},null,-1),el=[Yt];function tl(g,$){return o(),n("svg",Wt,el)}const ll={name:"material-symbols-keyboard-double-arrow-down-rounded",render:tl};function K(g){return Array.from({length:g},($,Q)=>Q+1).concat(-1)}const X={phoneNumberTypes:K(20),emailTypes:K(4),addressTypes:K(3),eventTypes:K(3),imTypes:K(8),websiteTypes:K(7)},ol={slot:"headline"},nl={slot:"content"},sl=["error","error-text"],al={slot:"actions"},dl=de({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(g){const $=g,{handleSubmit:Q}=Se(),d=I(),{value:C,resetField:M,errorMessage:w}=Ae("inputValue",Ne().required()),k=Q(()=>{$.do(C.value??""),O()});return C.value=$.value,$.value||M(),(async()=>{var A;await qe(),(A=d.value)==null||A.focus()})(),(A,q)=>(o(),n("md-dialog",null,[e("div",ol,u(g.title),1),e("div",nl,[m(e("md-outlined-text-field",{ref_key:"inputRef",ref:d,class:"form-control",error:i(w),"error-text":i(w)?A.$t(i(w)):"","onUpdate:modelValue":q[0]||(q[0]=N=>et(C)?C.value=N:null),onKeyup:q[1]||(q[1]=tt((...N)=>i(k)&&i(k)(...N),["enter"]))},null,40,sl),[[f,i(C)]])]),e("div",al,[e("md-outlined-button",{value:"cancel",onClick:q[2]||(q[2]=(...N)=>i(O)&&i(O)(...N))},u(A.$t("cancel")),1),e("md-filled-button",{value:"ok",onClick:q[3]||(q[3]=(...N)=>i(k)&&i(k)(...N)),autofocus:""},u(A.$t("ok")),1)])]))}});const il=Ve(dl,[["__scopeId","data-v-263cf3df"]]),ul={slot:"headline"},rl={slot:"content"},cl={class:"form-label"},_l={class:"form-row"},pl=["label"],ml=["label"],hl=["label"],vl={key:1,class:"v-center"},fl=e("md-ripple",null,null,-1),bl={key:0,class:"form-row"},$l=["label"],yl=["label"],gl={class:"v-center"},kl=e("md-ripple",null,null,-1),Cl={class:"form-label"},wl=["onUpdate:modelValue","onChange"],Nl=["value"],ql={slot:"headline"},Vl=["placeholder","onUpdate:modelValue"],Tl={class:"v-center"},Ul=["onClick"],Il=e("md-ripple",null,null,-1),Sl={key:1,class:"form-label"},Al=["onUpdate:modelValue","onChange"],Dl=["value"],Ll={slot:"headline"},Ml=["label","onUpdate:modelValue"],Fl={class:"v-center"},xl=["onClick"],Rl=e("md-ripple",null,null,-1),Bl={key:2,class:"form-label"},Ql=["onUpdate:modelValue","onChange"],Zl=["value"],zl={slot:"headline"},El=["label","onUpdate:modelValue"],Ol={class:"v-center"},jl=["onClick"],Gl=e("md-ripple",null,null,-1),Kl={key:3,class:"form-label"},Hl=["onUpdate:modelValue","onChange"],Jl=["value"],Pl={slot:"headline"},Xl=["placeholder","onUpdate:modelValue"],Wl={class:"v-center"},Yl=["onClick"],eo=e("md-ripple",null,null,-1),to={key:4,class:"form-label"},lo=["onUpdate:modelValue","onChange"],oo=["value"],no={slot:"headline"},so=["placeholder","onUpdate:modelValue"],ao={class:"v-center"},io=["onClick"],uo=e("md-ripple",null,null,-1),ro={class:"form-row",style:{display:"block",position:"relative"}},co={class:"menu-items"},_o=["onClick"],po={slot:"headline"},mo=["onClick"],ho={slot:"headline"},vo=["onClick"],fo={slot:"headline"},bo=["onClick"],$o={slot:"headline"},yo=["onClick"],go={slot:"headline"},ko={class:"form-row"},Co=["label"],wo={slot:"actions"},No=["disabled"],we=de({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(g){const $=g,{handleSubmit:Q}=Se(),d=Te({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),C=I(!1),{t:M}=Ue(),{mutate:w,loading:k,onDone:A}=se({document:fe`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${be}
  `,options:{update:()=>{$.done()}},appApi:!0}),{mutate:q,loading:N,onDone:H}=se({document:fe`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${be}
  `,options:{update:()=>{$.done()}},appApi:!0}),{value:Z,resetField:j,errorMessage:J}=Ae("inputValue",Ne().test("required",l=>"valid.required",l=>!0).test("target-value",l=>"invalid_value",l=>!0)),F=(l,_)=>{l.splice(0,l.length);for(const U of _)l.push({label:U.label,value:U.value,type:U.type})};(()=>{const l=$.data;l?(Object.assign(d,{firstName:l.firstName,middleName:l.middleName,lastName:l.lastName,prefix:l.prefix,suffix:l.suffix,notes:l.notes}),F(d.phoneNumbers,l.phoneNumbers),F(d.emails,l.emails),F(d.addresses,l.addresses),F(d.websites,l.websites),F(d.events,l.events),F(d.ims,l.ims)):(Object.assign(d,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),j())})();const z=l=>{l.type===-1&&lt(il,{value:l.label,title:M("custom"),do:_=>{l.label=_}})},x=(l,_,U)=>_===-1?l.label?l.label:M("custom"):M(`contact.${U}.${_}`),D=(l,_)=>{_.push({type:1,value:"",label:""}),l.close()},E=(l,_)=>{l.splice(_,1)},Y=Q(()=>{var l,_;$.data?q({id:$.data.id,input:d}):(d.source=((_=(l=$.sources)==null?void 0:l[0])==null?void 0:_.name)??"",w({input:d}))});return A(()=>{O()}),H(()=>{O()}),(l,_)=>{const U=ll,le=Xt,V=Ie,ee=ot;return o(),n("md-dialog",null,[e("div",ul,u(g.data?l.$t("edit"):l.$t("create")),1),e("div",rl,[e("label",cl,u(l.$t("name")),1),e("div",_l,[m(e("md-outlined-text-field",{label:l.$t("first_name"),"onUpdate:modelValue":_[0]||(_[0]=s=>d.firstName=s)},null,8,pl),[[f,d.firstName]]),C.value?m((o(),n("md-outlined-text-field",{key:0,label:l.$t("middle_name"),"onUpdate:modelValue":_[1]||(_[1]=s=>d.middleName=s)},null,8,ml)),[[f,d.middleName]]):T("",!0),m(e("md-outlined-text-field",{label:l.$t("last_name"),"onUpdate:modelValue":_[2]||(_[2]=s=>d.lastName=s)},null,8,hl),[[f,d.lastName]]),C.value?T("",!0):(o(),n("div",vl,[e("button",{class:"icon-button",onClick:_[3]||(_[3]=s=>C.value=!0)},[fl,h(U)])]))]),C.value?(o(),n("div",bl,[m(e("md-outlined-text-field",{label:l.$t("prefix"),"onUpdate:modelValue":_[4]||(_[4]=s=>d.prefix=s)},null,8,$l),[[f,d.prefix]]),m(e("md-outlined-text-field",{label:l.$t("suffix"),"onUpdate:modelValue":_[5]||(_[5]=s=>d.suffix=s)},null,8,yl),[[f,d.suffix]]),e("div",gl,[e("button",{class:"icon-button",onClick:_[6]||(_[6]=s=>C.value=!1)},[kl,h(le)])])])):T("",!0),e("label",Cl,u(l.$t("phone_number")),1),(o(!0),n(v,null,b(d.phoneNumbers,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>z(s)},[(o(!0),n(v,null,b(i(X).phoneNumberTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",ql,u(x(s,a,"phone_number_type")),1)],8,Nl))),128))],40,wl),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("telephone"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Vl),[[f,s.value]]),e("div",Tl,[d.phoneNumbers.length>1?(o(),n("button",{key:0,class:"icon-button",onClick:a=>E(d.phoneNumbers,y)},[Il,h(V)],8,Ul)):T("",!0)])]))),128)),d.emails.length?(o(),n("label",Sl,u(l.$t("email")),1)):T("",!0),(o(!0),n(v,null,b(d.emails,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>z(s)},[(o(!0),n(v,null,b(i(X).emailTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",Ll,u(x(s,a,"email_type")),1)],8,Dl))),128))],40,Al),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{label:l.$t("email"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Ml),[[f,s.value]]),e("div",Fl,[e("button",{class:"icon-button",onClick:a=>E(d.emails,y)},[Rl,h(V)],8,xl)])]))),128)),d.addresses.length?(o(),n("label",Bl,u(l.$t("address")),1)):T("",!0),(o(!0),n(v,null,b(d.addresses,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>z(s)},[(o(!0),n(v,null,b(i(X).addressTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",zl,u(x(s,a,"address_type")),1)],8,Zl))),128))],40,Ql),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{label:l.$t("address"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,El),[[f,s.value]]),e("div",Ol,[e("button",{class:"icon-button",onClick:a=>E(d.addresses,y)},[Gl,h(V)],8,jl)])]))),128)),d.websites.length?(o(),n("label",Kl,u(l.$t("website")),1)):T("",!0),(o(!0),n(v,null,b(d.websites,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>z(s)},[(o(!0),n(v,null,b(i(X).websiteTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",Pl,u(x(s,a,"website_type")),1)],8,Jl))),128))],40,Hl),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("website"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Xl),[[f,s.value]]),e("div",Wl,[e("button",{class:"icon-button",onClick:a=>E(d.websites,y)},[eo,h(V)],8,Yl)])]))),128)),d.ims.length?(o(),n("label",to,u(l.$t("im")),1)):T("",!0),(o(!0),n(v,null,b(d.ims,(s,y)=>(o(),n("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-positioning":"fixed","onUpdate:modelValue":a=>s.type=a,onChange:a=>z(s)},[(o(!0),n(v,null,b(i(X).imTypes,a=>(o(),n("md-select-option",{key:a,value:a},[e("div",no,u(x(s,a,"im_type")),1)],8,oo))),128))],40,lo),[[f,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("im"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,so),[[f,s.value]]),e("div",ao,[e("button",{class:"icon-button",onClick:a=>E(d.ims,y)},[uo,h(V)],8,io)])]))),128)),e("div",ro,[h(ee,{placement:"auto"},{content:ae(s=>[e("div",co,[e("md-menu-item",{onClick:()=>D(s,d.phoneNumbers)},[e("div",po,u(l.$t("phone_number")),1)],8,_o),e("md-menu-item",{onClick:()=>D(s,d.emails)},[e("div",ho,u(l.$t("email")),1)],8,mo),e("md-menu-item",{onClick:()=>D(s,d.addresses)},[e("div",fo,u(l.$t("address")),1)],8,vo),e("md-menu-item",{onClick:()=>D(s,d.websites)},[e("div",$o,u(l.$t("website")),1)],8,bo),e("md-menu-item",{onClick:()=>D(s,d.ims)},[e("div",go,u(l.$t("im")),1)],8,yo)])]),default:ae(()=>[e("div",null,[e("md-outlined-button",null,u(l.$t("add_field")),1)])]),_:1})]),e("div",ko,[m(e("md-outlined-text-field",{type:"textarea",label:l.$t("notes"),"onUpdate:modelValue":_[7]||(_[7]=s=>d.notes=s),rows:"3"},null,8,Co),[[f,d.notes]])])]),e("div",wo,[e("md-outlined-button",{value:"cancel",onClick:_[8]||(_[8]=(...s)=>i(O)&&i(O)(...s))},u(l.$t("cancel")),1),e("md-filled-button",{value:"save",disabled:i(k)||i(N),onClick:_[9]||(_[9]=(...s)=>i(Y)&&i(Y)(...s)),autofocus:""},u(l.$t("save")),9,No)])])}}}),S=g=>(Vt("data-v-03a2b02e"),g=g(),Tt(),g),qo={class:"v-toolbar"},Vo=S(()=>e("md-ripple",null,null,-1)),To={class:"icon-button",style:{display:"none"}},Uo=S(()=>e("md-ripple",null,null,-1)),Io=S(()=>e("md-ripple",null,null,-1)),So={class:"filters"},Ao=["label"],Do={class:"form-label"},Lo=["label","selected","onClick"],Mo={class:"buttons"},Fo=["onClick"],xo={class:"table-responsive"},Ro={class:"table"},Bo=["checked","indeterminate"],Qo=S(()=>e("th",null,"ID",-1)),Zo=S(()=>e("th",null,null,-1)),zo=S(()=>e("th",null,null,-1)),Eo=["onClick"],Oo=["checked"],jo=["src"],Go={class:"nowrap"},Ko={class:"nowrap"},Ho={class:"list-unstyled"},Jo={key:0,indeterminate:"",class:"spinner-sm"},Po=["onClick"],Xo=S(()=>e("md-ripple",null,null,-1)),Wo={class:"nowrap"},Yo={class:"action-btns"},en=["onClick"],tn=S(()=>e("md-ripple",null,null,-1)),ln=["onClick"],on=S(()=>e("md-ripple",null,null,-1)),nn=["onClick"],sn=S(()=>e("md-ripple",null,null,-1)),an={class:"nowrap"},dn={key:0},un={colspan:"9"},rn={class:"no-data-placeholder"},W=50,cn=de({__name:"ContactsView",setup(g){var me,he;const $=nt(),{app:Q}=st(at()),d=I([]),C=I(),{t:M}=Ue(),w=Te({text:"",tags:[]}),k=dt.CONTACT,q=it().query,N=I(parseInt(((me=q.page)==null?void 0:me.toString())??"1")),H=I([]),Z=I(ut(((he=q.q)==null?void 0:he.toString())??"")),j=I(""),{tags:J}=Qt(k,Z,w,async t=>{j.value=ft(t),await qe(),y()}),{addToTags:F}=Zt(k,d,J),{deleteItems:z}=Je(bt,()=>{l(),a(),G.emit("refetch_tags",k)},d),{allChecked:x,realAllChecked:D,selectRealAll:E,allCheckedAlertVisible:Y,clearSelection:l,toggleAllChecked:_,toggleItemChecked:U,toggleRow:le,total:V,checked:ee}=Pe(d),{loading:s,load:y,refetch:a}=rt({handle:(t,p)=>{p?$e(M(p),"error"):t&&(d.value=t.contacts.map(L=>({...L,checked:!1})),V.value=t.contactCount)},document:$t,variables:()=>({offset:(N.value-1)*W,limit:W,query:j.value}),appApi:!0});ct({handle:(t,p)=>{p?$e(M(p),"error"):t&&(H.value=t.contactSources)},document:yt,variables:null,appApi:!0}),_t(N,t=>{ye($,`/contacts?page=${t}&q=${ge(Z.value)}`)});function De(){Z.value=Ut(w),ie(),C.value.dismiss()}function ie(){ye($,`/contacts?q=${ge(Z.value)}`)}const ue=t=>{t.type===k&&(l(),a())},re=t=>{t.type===k&&a()};pt(()=>{G.on("item_tags_updated",re),G.on("items_tags_updated",ue)}),mt(()=>{G.off("item_tags_updated",re),G.off("items_tags_updated",ue)});function Le(t){te(It,{type:k,tags:J.value,item:{key:t.id,title:"",size:0},selected:J.value.filter(p=>t.tags.some(L=>L.id===p.id))})}function ce(t){let p="";Ce(t.firstName)||Ce(t.lastName)?p=`${t.lastName}${t.middleName}${t.firstName}`:p=[t.firstName,t.middleName,t.lastName].filter(oe=>oe).join(" ");const L=t.suffix?`, ${t.suffix}`:"",P=`${t.prefix} ${p} ${L}`.trim();return P||(t.emails.length?t.emails[0].value:"")}function Me(t){w.tags.includes(t)?St(w.tags,p=>p.id===t.id):w.tags.push(t)}function Fe(t){te(Dt,{id:t.id,name:ce(t),gql:At`
      mutation DeleteContact($query: String!) {
        deleteContacts(query: $query)
      }
    `,variables:()=>({query:`ids:${t.id}`}),appApi:!0,typeName:"Contact",done:()=>{V.value--,t.tags.length&&G.emit("refetch_tags",k)}})}function xe(t){te(we,{data:t,sources:H,done:a})}function Re(){te(we,{data:null,sources:H,done:a})}const _e=I(""),pe=I(0),{mutate:Be,loading:Qe}=se({document:gt,appApi:!0});function Ze(t,p,L){_e.value=t,pe.value=L,Be({number:p})}return(t,p)=>{const L=Bt,P=Ie,oe=Lt,ve=Mt,ze=Xe,Ee=We,Oe=Ft,je=Rt,Ge=Gt,Ke=xt,He=Ye,R=ht("tooltip");return o(),n(v,null,[e("div",qo,[h(L,{current:()=>`${t.$t("page_title.contacts")} (${i(V)})`},null,8,["current"]),i(ee)?(o(),n(v,{key:0},[m((o(),n("button",{class:"icon-button",onClick:p[0]||(p[0]=B(r=>i(z)(i(D),j.value),["stop"]))},[Vo,h(P)])),[[R,t.$t("delete")]]),m((o(),n("button",To,[Uo,h(oe)])),[[R,t.$t("download")]]),m((o(),n("button",{class:"icon-button",onClick:p[1]||(p[1]=B(r=>i(F)(i(D),j.value),["stop"]))},[Io,h(ve)])),[[R,t.$t("add_to_tags")]])],64)):T("",!0),e("md-outlined-button",{onClick:Re,style:{"margin-inline-start":"16px"}},u(t.$t("create")),1),h(ze,{ref_key:"searchInputRef",ref:C,modelValue:Z.value,"onUpdate:modelValue":p[3]||(p[3]=r=>Z.value=r),search:ie},{filters:ae(()=>[e("div",So,[m(e("md-outlined-text-field",{label:t.$t("keywords"),"onUpdate:modelValue":p[2]||(p[2]=r=>w.text=r),"keyup.enter":"applyAndDoSearch"},null,8,Ao),[[f,w.text]]),e("label",Do,u(t.$t("tags")),1),e("md-chip-set",null,[(o(!0),n(v,null,b(i(J),r=>(o(),n("md-filter-chip",{key:r.id,label:r.name,selected:w.tags.includes(r),onClick:c=>Me(r)},null,8,Lo))),128))]),e("div",Mo,[e("md-filled-button",{onClick:B(De,["stop"])},u(t.$t("search")),9,Fo)])])]),_:1},8,["modelValue"])]),h(Ee,{limit:W,total:i(V),"all-checked-alert-visible":i(Y),"real-all-checked":i(D),"select-real-all":i(E),"clear-selection":i(l)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),e("div",xo,[e("table",Ro,[e("thead",null,[e("tr",null,[e("th",null,[e("md-checkbox",{"touch-target":"wrapper",onChange:p[4]||(p[4]=(...r)=>i(_)&&i(_)(...r)),checked:i(x),indeterminate:!i(x)&&i(ee)},null,40,Bo)]),Qo,e("th",null,u(t.$t("avatar")),1),e("th",null,u(t.$t("name")),1),Zo,zo,e("th",null,u(t.$t("notes")),1),e("th",null,u(t.$t("tags")),1),e("th",null,u(t.$t("updated_at")),1)])]),e("tbody",null,[(o(!0),n(v,null,b(d.value,r=>(o(),n("tr",{key:r.id,class:kt({selected:r.checked}),onClick:B(c=>i(le)(r),["stop"])},[e("td",null,[e("md-checkbox",{"touch-target":"wrapper",onChange:p[5]||(p[5]=(...c)=>i(U)&&i(U)(...c)),checked:r.checked},null,40,Oo)]),e("td",null,[h(Oe,{id:r.id,raw:r},null,8,["id","raw"])]),e("td",null,[r.thumbnailId?(o(),n("img",{key:0,src:i(Ct)(r.thumbnailId),width:"50"},null,8,jo)):T("",!0)]),e("td",Go,u(ce(r)),1),e("td",Ko,[e("ul",Ho,[(o(!0),n(v,null,b(r.phoneNumbers,(c,ne)=>(o(),n("li",{class:"v-center",key:ne},[ke(u(c.type>0?t.$t(`contact.phone_number_type.${c.type}`):c.label)+" "+u(c.normalizedNumber||c.value)+" ",1),i(Qe)&&_e.value===r.id&&pe.value===ne?(o(),n("md-circular-progress",Jo)):m((o(),n("button",{key:1,class:"icon-button",onClick:B(_n=>Ze(r.id,c.normalizedNumber||c.value,ne),["stop"])},[Xo,h(je)],8,Po)),[[R,t.$t("make_a_phone_call")]])]))),128)),(o(!0),n(v,null,b(r.emails,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.email_type.${c.type}`):c.label)+" "+u(c.value),1))),256)),(o(!0),n(v,null,b(r.addresses,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.address_type.${c.type}`):c.label)+" "+u(c.value),1))),256)),(o(!0),n(v,null,b(r.websites,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.website_type.${c.type}`):c.label)+" "+u(c.value),1))),256)),(o(!0),n(v,null,b(r.ims,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.im_type.${c.type}`):c.label)+" "+u(c.value),1))),256)),(o(!0),n(v,null,b(r.events,c=>(o(),n("li",null,u(c.type>0?t.$t(`contact.event_type.${c.type}`):c.label)+" "+u(c.value),1))),256))])]),e("td",Wo,[e("div",Yo,[m((o(),n("button",{class:"icon-button",onClick:B(c=>Fe(r),["stop"])},[tn,h(P)],8,en)),[[R,t.$t("delete")]]),m((o(),n("button",{class:"icon-button",onClick:B(c=>xe(r),["stop"])},[on,h(Ge)],8,ln)),[[R,t.$t("edit")]]),m((o(),n("button",{class:"icon-button",onClick:B(c=>Le(r),["stop"])},[sn,h(ve)],8,nn)),[[R,t.$t("add_to_tags")]])])]),e("td",null,u(r.notes),1),e("td",null,[h(Ke,{tags:r.tags,type:i(k)},null,8,["tags","type"])]),e("td",an,[m((o(),n("span",null,[ke(u(i(Nt)(r.updatedAt)),1)])),[[R,i(wt)(r.updatedAt)]])])],10,Eo))),128))]),d.value.length?T("",!0):(o(),n("tfoot",dn,[e("tr",null,[e("td",un,[e("div",rn,u(t.$t(i(qt)(i(s),i(Q).permissions,"READ_CONTACTS"))),1)])])]))])]),i(V)>W?(o(),vt(He,{key:0,modelValue:N.value,"onUpdate:modelValue":p[6]||(p[6]=r=>N.value=r),total:i(V),limit:W},null,8,["modelValue","total"])):T("",!0)],64)}}});const $n=Ve(cn,[["__scopeId","data-v-03a2b02e"]]);export{$n as default};
