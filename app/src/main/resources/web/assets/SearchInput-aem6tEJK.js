import{d as w,o as l,c as o,O as d,V as q,t as h,a as i,w as k,N as Z,u as ee,I as te,aE as b,h as le,S as oe,e as c,p,P as m,x as C,y as ne,A as se,bG as I,f as ie,bp as re,a2 as de,F as ae,G as ce,H as ue}from"./index-Dn0O6zoH.js";import{_ as he}from"./search-rounded-C8Nl_ZR1.js";import{_ as _e}from"./rss-feed-rounded-Dqku7i1k.js";import{u as me}from"./search-DrT1IjAg.js";const ut=w({__name:"AllCheckedAlert",props:{limit:{type:Number,required:!0},total:{type:Number,required:!0},allCheckedAlertVisible:{type:Boolean,required:!0},realAllChecked:{type:Boolean,required:!0},selectRealAll:{type:Function},clearSelection:{type:Function}},setup(r){return(u,f)=>(l(),o("div",{class:Z(["alert-info alert-all-checked",{show:r.allCheckedAlertVisible||r.realAllChecked}])},[r.allCheckedAlertVisible?(l(),o(d,{key:0},[q(h(u.$t("all_items_on_this_page_are_selected",{count:r.limit}))+" ",1),i("a",{href:"#",onClick:f[0]||(f[0]=k((...y)=>r.selectRealAll&&r.selectRealAll(...y),["prevent"]))},h(u.$t("select_all_items",{count:r.total})),1)],64)):(l(),o(d,{key:1},[q(h(u.$t("all_items_are_selected",{count:r.total}))+" ",1),i("a",{href:"#",onClick:f[1]||(f[1]=k((...y)=>r.clearSelection&&r.clearSelection(...y),["prevent"]))},h(u.$t("clear_selection")),1)],64))],2))}}),fe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},pe=i("path",{fill:"currentColor",d:"M7.425 9.475L11.15 3.4q.15-.25.375-.363T12 2.925t.475.113t.375.362l3.725 6.075q.15.25.15.525t-.125.5t-.35.363t-.525.137h-7.45q-.3 0-.525-.137T7.4 10.5t-.125-.5t.15-.525M17.5 22q-1.875 0-3.187-1.312T13 17.5t1.313-3.187T17.5 13t3.188 1.313T22 17.5t-1.312 3.188T17.5 22M3 20.5v-6q0-.425.288-.712T4 13.5h6q.425 0 .713.288T11 14.5v6q0 .425-.288.713T10 21.5H4q-.425 0-.712-.288T3 20.5m14.5-.5q1.05 0 1.775-.725T20 17.5t-.725-1.775T17.5 15t-1.775.725T15 17.5t.725 1.775T17.5 20M5 19.5h4v-4H5zM10.05 9h3.9L12 5.85zm7.45 8.5"},null,-1),ye=[pe];function ve(r,u){return l(),o("svg",fe,[...ye])}const be={name:"material-symbols-category-outline-rounded",render:ve},ke={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Te=i("path",{fill:"currentColor",d:"M7 21q-.825 0-1.412-.587T5 19V6q-.425 0-.712-.288T4 5t.288-.712T5 4h4q0-.425.288-.712T10 3h4q.425 0 .713.288T15 4h4q.425 0 .713.288T20 5t-.288.713T19 6v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zm-7 11q.425 0 .713-.288T11 16V9q0-.425-.288-.712T10 8t-.712.288T9 9v7q0 .425.288.713T10 17m4 0q.425 0 .713-.288T15 16V9q0-.425-.288-.712T14 8t-.712.288T13 9v7q0 .425.288.713T14 17M7 6v13z"},null,-1),ge=[Te];function $e(r,u){return l(),o("svg",ke,[...ge])}const qe={name:"material-symbols-delete-outline-rounded",render:$e},Ce={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ie=i("path",{fill:"currentColor",d:"M9 16.5q-1.05 0-1.775-.725T6.5 14t.725-1.775T9 11.5t1.775.725T11.5 14t-.725 1.775T9 16.5M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5zM5 8h14V6H5zm0 0V6z"},null,-1),we=[Ie];function Ve(r,u){return l(),o("svg",Ce,[...we])}const Se={name:"material-symbols-today-outline-rounded",render:Ve},Ae=r=>(ae("data-v-20647efc"),r=r(),ce(),r),Be={key:0},Me={key:"filter-text"},Re=["label"],ze={key:"filter-today"},Fe=["label"],xe={key:"filter-trash"},Ne=["label"],He=["label"],De=["label"],Le=["label"],Pe=["label","onRemove"],Ue=Ae(()=>i("md-ripple",null,null,-1)),Ee=["open"],Ge={class:"filters"},Ke={class:"form-row"},Oe=["label"],je={key:0},Qe=["label","selected"],Je={key:1},We=["label","selected"],Xe={class:"form-label"},Ye=["label","selected","onClick"],Ze={class:"form-label"},et=["label","selected","onClick"],tt={class:"form-label"},lt=["label","selected","onClick"],ot={class:"form-label"},nt=["label","selected","onClick"],st={class:"buttons"},it=w({__name:"SearchInput",props:{filter:{type:Object,required:!0},getUrl:{type:Function,required:!0},tags:{type:Array,default:()=>[]},feeds:{type:Array,default:()=>[]},buckets:{type:Array,default:()=>[]},types:{type:Array,default:()=>[]},showChips:{type:Boolean,default:!0},showToday:{type:Boolean,default:!1},showTrash:{type:Boolean,default:!1}},setup(r,{expose:u}){const{copyFilter:f,buildQ:y}=me(),V=ee(),s=te({tagIds:[]}),n=r,S=b(()=>(n.tags??[]).filter(t=>{var a;return(a=n.filter.tagIds)==null?void 0:a.includes(t.id)})),A=b(()=>(n.feeds??[]).filter(t=>n.filter.feedId===t.id)),B=b(()=>(n.buckets??[]).filter(t=>n.filter.bucketId===t.id)),M=b(()=>(n.types??[]).filter(t=>n.filter.type===t.id)),T=le(!1);function R(t){s.tagIds.includes(t.id)?I(s.tagIds,a=>a===t.id):s.tagIds.push(t.id)}function z(t){s.feedId===t.id?s.feedId=void 0:s.feedId=t.id}function F(t){s.bucketId===t.id?s.bucketId=void 0:s.bucketId=t.id}function x(t){s.type===t.id?s.type=void 0:s.type=t.id}function $(){f(s,n.filter),_(),g()}function _(){ie(V,n.getUrl(y(n.filter)))}function N(){n.filter.feedId=void 0,_()}function H(){n.filter.type=void 0,_()}function D(){n.filter.bucketId=void 0,_()}function L(t){I(n.filter.tagIds??[],a=>a===t.id),_()}function P(){n.filter.today=void 0,_()}function U(){n.filter.trash=!1,_()}function E(){n.filter.text=void 0,_()}function G(){T.value=!0,f(n.filter,s)}function g(){T.value=!1}return u({dismiss:g}),(t,a)=>{const K=Se,O=qe,j=re,Q=_e,J=be,W=de,X=he,Y=oe("tooltip");return l(),o(d,null,[r.showChips?(l(),o("md-chip-set",Be,[n.filter.text?(l(),o("div",Me,[i("md-input-chip",{label:n.filter.text,"remove-only":"",onRemove:E},null,40,Re)])):c("",!0),n.filter.today?(l(),o("div",ze,[i("md-input-chip",{label:t.$t("today"),"remove-only":"",onRemove:P},[p(K,{slot:"icon"})],40,Fe)])):c("",!0),n.filter.trash?(l(),o("div",xe,[i("md-input-chip",{label:t.$t("trash"),"remove-only":"",onRemove:U},[p(O,{slot:"icon"})],40,Ne)])):c("",!0),(l(!0),o(d,null,m(B.value,e=>(l(),o("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:D},[p(j,{slot:"icon"})],40,He))),128)),(l(!0),o(d,null,m(A.value,e=>(l(),o("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:N},[p(Q,{slot:"icon"})],40,De))),128)),(l(!0),o(d,null,m(M.value,e=>(l(),o("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:H},[p(J,{slot:"icon"})],40,Le))),128)),(l(!0),o(d,null,m(S.value,e=>(l(),o("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:v=>L(e)},[p(W,{slot:"icon"})],40,Pe))),128))])):c("",!0),C((l(),o("button",{id:"btn-search",class:"btn-icon",onClick:k(G,["prevent"])},[Ue,p(X)])),[[Y,t.$t("search")]]),i("md-menu",{positioning:"popover",anchor:"btn-search","menu-corner":"start-end","anchor-corner":"end-end","stay-open-on-focusout":"",quick:"",open:T.value,onClosed:g},[i("div",Ge,[i("div",Ke,[C(i("md-outlined-text-field",{label:t.$t("keywords"),"onUpdate:modelValue":a[0]||(a[0]=e=>s.text=e),onKeyup:se($,["enter"])},null,40,Oe),[[ne,s.text]])]),n.showToday?(l(),o("md-chip-set",je,[i("md-filter-chip",{key:"chip-today",label:t.$t("today"),selected:s.today,onClick:a[1]||(a[1]=e=>s.today=!s.today)},null,8,Qe)])):c("",!0),n.showTrash?(l(),o("md-chip-set",Je,[i("md-filter-chip",{key:"chip-today",label:t.$t("trash"),selected:s.trash,onClick:a[2]||(a[2]=e=>s.trash=!s.trash)},null,8,We)])):c("",!0),n.tags.length>0?(l(),o(d,{key:2},[i("label",Xe,h(t.$t("tags")),1),i("md-chip-set",null,[(l(!0),o(d,null,m(r.tags,e=>(l(),o("md-filter-chip",{key:e.id,label:e.name,selected:s.tagIds.includes(e.id),onClick:v=>R(e)},null,8,Ye))),128))])],64)):c("",!0),n.feeds.length>0?(l(),o(d,{key:3},[i("label",Ze,h(t.$t("page_title.feeds")),1),i("md-chip-set",null,[(l(!0),o(d,null,m(r.feeds,e=>(l(),o("md-filter-chip",{key:e.id,label:e.name,selected:s.feedId===e.id,onClick:v=>z(e)},null,8,et))),128))])],64)):c("",!0),n.buckets.length>0?(l(),o(d,{key:4},[i("label",tt,h(t.$t("folders")),1),i("md-chip-set",null,[(l(!0),o(d,null,m(r.buckets,e=>(l(),o("md-filter-chip",{key:e.id,label:e.name,selected:s.bucketId===e.id,onClick:v=>F(e)},null,8,lt))),128))])],64)):c("",!0),n.types.length>0?(l(),o(d,{key:5},[i("label",ot,h(t.$t("types")),1),i("md-chip-set",null,[(l(!0),o(d,null,m(r.types,e=>(l(),o("md-filter-chip",{key:e.id,label:e.name,selected:s.type===e.id,onClick:v=>x(e)},null,8,nt))),128))])],64)):c("",!0),i("div",st,[i("md-filled-button",{onClick:k($,["stop"])},h(t.$t("search")),1)])])],40,Ee)],64)}}}),ht=ue(it,[["__scopeId","data-v-20647efc"]]);export{ht as _,ut as a,qe as b};
