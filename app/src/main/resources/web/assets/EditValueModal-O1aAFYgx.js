import{d as g,h as k,cm as x,au as S,af as F,av as p,o as v,c as f,a as n,t as u,x as M,y as q,m as e,z as C,A as E,e as $,V as B,H as D}from"./index-R8dLcqG_.js";import{u as N}from"./vee-validate.esm-vpr6zxQb.js";const R={slot:"headline"},T={slot:"content"},w=["placeholder","error","error-text"],A={slot:"actions"},K=["disabled"],z={key:0,indeterminate:"",slot:"icon"},H=g({__name:"EditValueModal",props:{getVariables:{type:Function,required:!0},title:{type:String,required:!0},placeholder:{type:String},value:{type:String},mutation:{type:Function,required:!0},done:{type:Function}},setup(r){const c=k(),s=r,{errors:d,handleSubmit:y,defineField:h}=N({validationSchema:x({name:S().required()}),initialValues:{name:s.value??""}}),[o]=h("name"),{mutate:V,loading:m,onDone:_}=s.mutation();o.value=s.value??"";function b(){p()}F(async()=>{setTimeout(()=>{var t;(t=c.value)==null||t.focus()},100)});const l=y(()=>{V(s.getVariables(o.value??""))});return _(()=>{var t;(t=s.done)==null||t.call(this,o.value),p()}),(t,a)=>(v(),f("md-dialog",null,[n("div",R,u(r.title),1),n("div",T,[M(n("md-outlined-text-field",{ref_key:"inputRef",ref:c,placeholder:r.placeholder,"onUpdate:modelValue":a[0]||(a[0]=i=>C(o)?o.value=i:null),onKeyup:a[1]||(a[1]=E((...i)=>e(l)&&e(l)(...i),["enter"])),error:e(d).name,"error-text":e(d).name?t.$t(e(d).name):""},null,40,w),[[q,e(o)]])]),n("div",A,[n("md-outlined-button",{value:"cancel",onClick:b},u(t.$t("cancel")),1),n("md-filled-button",{value:"save",disabled:e(m),onClick:a[2]||(a[2]=(...i)=>e(l)&&e(l)(...i)),autofocus:""},[e(m)?(v(),f("md-circular-progress",z)):$("",!0),B(u(t.$t("save")),1)],8,K)])]))}}),j=D(H,[["__scopeId","data-v-eb08b2c1"]]);export{j as E};
