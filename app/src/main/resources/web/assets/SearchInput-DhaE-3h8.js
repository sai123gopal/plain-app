import{d as w,o as l,c as o,O as d,V as C,t as u,a as i,w as k,N as Z,u as ee,I as te,aH as b,h as le,S as oe,e as c,p,P as m,x as I,y as ne,A as se,bO as q,f as ie,aU as re,c3 as de,a2 as ae,F as ce,G as ue,H as _e}from"./index-R8dLcqG_.js";import{_ as he}from"./search-rounded-CULEMJ2O.js";import{_ as me}from"./rss-feed-rounded-BCiGdgJ5.js";import{u as fe}from"./search-ByVbj6Ls.js";const rt=w({__name:"AllCheckedAlert",props:{limit:{type:Number,required:!0},total:{type:Number,required:!0},allCheckedAlertVisible:{type:Boolean,required:!0},realAllChecked:{type:Boolean,required:!0},selectRealAll:{type:Function},clearSelection:{type:Function}},setup(r){return(_,f)=>(l(),o("div",{class:Z(["alert-info alert-all-checked",{show:r.allCheckedAlertVisible||r.realAllChecked}])},[r.allCheckedAlertVisible?(l(),o(d,{key:0},[C(u(_.$t("all_items_on_this_page_are_selected",{count:r.limit}))+" ",1),i("a",{href:"#",onClick:f[0]||(f[0]=k((...y)=>r.selectRealAll&&r.selectRealAll(...y),["prevent"]))},u(_.$t("select_all_items",{count:r.total})),1)],64)):(l(),o(d,{key:1},[C(u(_.$t("all_items_are_selected",{count:r.total}))+" ",1),i("a",{href:"#",onClick:f[1]||(f[1]=k((...y)=>r.clearSelection&&r.clearSelection(...y),["prevent"]))},u(_.$t("clear_selection")),1)],64))],2))}}),pe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ye=i("path",{fill:"currentColor",d:"M7.425 9.475L11.15 3.4q.15-.25.375-.363T12 2.925t.475.113t.375.362l3.725 6.075q.15.25.15.525t-.125.5t-.35.363t-.525.137h-7.45q-.3 0-.525-.137T7.4 10.5t-.125-.5t.15-.525M17.5 22q-1.875 0-3.187-1.312T13 17.5t1.313-3.187T17.5 13t3.188 1.313T22 17.5t-1.312 3.188T17.5 22M3 20.5v-6q0-.425.288-.712T4 13.5h6q.425 0 .713.288T11 14.5v6q0 .425-.288.713T10 21.5H4q-.425 0-.712-.288T3 20.5m14.5-.5q1.05 0 1.775-.725T20 17.5t-.725-1.775T17.5 15t-1.775.725T15 17.5t.725 1.775T17.5 20M5 19.5h4v-4H5zM10.05 9h3.9L12 5.85zm7.45 8.5"},null,-1),ve=[ye];function be(r,_){return l(),o("svg",pe,[...ve])}const ke={name:"material-symbols-category-outline-rounded",render:be},Te={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ge=i("path",{fill:"currentColor",d:"M9 16.5q-1.05 0-1.775-.725T6.5 14t.725-1.775T9 11.5t1.775.725T11.5 14t-.725 1.775T9 16.5M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5zM5 8h14V6H5zm0 0V6z"},null,-1),$e=[ge];function Ce(r,_){return l(),o("svg",Te,[...$e])}const Ie={name:"material-symbols-today-outline-rounded",render:Ce},qe=r=>(ce("data-v-20647efc"),r=r(),ue(),r),we={key:0},Se={key:"filter-text"},Ae=["label"],Ve={key:"filter-today"},Be=["label"],Me={key:"filter-trash"},Re=["label"],Fe=["label"],ze=["label"],Ne=["label"],He=["label","onRemove"],xe=qe(()=>i("md-ripple",null,null,-1)),De=["open"],Ue={class:"filters"},Le={class:"form-row"},Oe=["label"],Pe={key:0},Ke=["label","selected"],je={key:1},Ee=["label","selected"],Ge={class:"form-label"},Qe=["label","selected","onClick"],Je={class:"form-label"},We=["label","selected","onClick"],Xe={class:"form-label"},Ye=["label","selected","onClick"],Ze={class:"form-label"},et=["label","selected","onClick"],tt={class:"buttons"},lt=w({__name:"SearchInput",props:{filter:{type:Object,required:!0},getUrl:{type:Function,required:!0},tags:{type:Array,default:()=>[]},feeds:{type:Array,default:()=>[]},buckets:{type:Array,default:()=>[]},types:{type:Array,default:()=>[]},showChips:{type:Boolean,default:!0},showToday:{type:Boolean,default:!1},showTrash:{type:Boolean,default:!1}},setup(r,{expose:_}){const{copyFilter:f,buildQ:y}=fe(),S=ee(),s=te({tagIds:[]}),n=r,A=b(()=>(n.tags??[]).filter(t=>{var a;return(a=n.filter.tagIds)==null?void 0:a.includes(t.id)})),V=b(()=>(n.feeds??[]).filter(t=>n.filter.feedId===t.id)),B=b(()=>(n.buckets??[]).filter(t=>n.filter.bucketId===t.id)),M=b(()=>(n.types??[]).filter(t=>n.filter.type===t.id)),T=le(!1);function R(t){s.tagIds.includes(t.id)?q(s.tagIds,a=>a===t.id):s.tagIds.push(t.id)}function F(t){s.feedId===t.id?s.feedId=void 0:s.feedId=t.id}function z(t){s.bucketId===t.id?s.bucketId=void 0:s.bucketId=t.id}function N(t){s.type===t.id?s.type=void 0:s.type=t.id}function $(){f(s,n.filter),h(),g()}function h(){ie(S,n.getUrl(y(n.filter)))}function H(){n.filter.feedId=void 0,h()}function x(){n.filter.type=void 0,h()}function D(){n.filter.bucketId=void 0,h()}function U(t){q(n.filter.tagIds??[],a=>a===t.id),h()}function L(){n.filter.today=void 0,h()}function O(){n.filter.trash=!1,h()}function P(){n.filter.text=void 0,h()}function K(){T.value=!0,f(n.filter,s)}function g(){T.value=!1}return _({dismiss:g}),(t,a)=>{const j=Ie,E=re,G=de,Q=me,J=ke,W=ae,X=he,Y=oe("tooltip");return l(),o(d,null,[r.showChips?(l(),o("md-chip-set",we,[n.filter.text?(l(),o("div",Se,[i("md-input-chip",{label:n.filter.text,"remove-only":"",onRemove:P},null,40,Ae)])):c("",!0),n.filter.today?(l(),o("div",Ve,[i("md-input-chip",{label:t.$t("today"),"remove-only":"",onRemove:L},[p(j,{slot:"icon"})],40,Be)])):c("",!0),n.filter.trash?(l(),o("div",Me,[i("md-input-chip",{label:t.$t("trash"),"remove-only":"",onRemove:O},[p(E,{slot:"icon"})],40,Re)])):c("",!0),(l(!0),o(d,null,m(B.value,e=>(l(),o("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:D},[p(G,{slot:"icon"})],40,Fe))),128)),(l(!0),o(d,null,m(V.value,e=>(l(),o("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:H},[p(Q,{slot:"icon"})],40,ze))),128)),(l(!0),o(d,null,m(M.value,e=>(l(),o("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:x},[p(J,{slot:"icon"})],40,Ne))),128)),(l(!0),o(d,null,m(A.value,e=>(l(),o("md-input-chip",{key:e.id,label:e.name,"remove-only":"",onRemove:v=>U(e)},[p(W,{slot:"icon"})],40,He))),128))])):c("",!0),I((l(),o("button",{id:"btn-search",class:"btn-icon",onClick:k(K,["prevent"])},[xe,p(X)])),[[Y,t.$t("search")]]),i("md-menu",{positioning:"popover",anchor:"btn-search","menu-corner":"start-end","anchor-corner":"end-end","stay-open-on-focusout":"",quick:"",open:T.value,onClosed:g},[i("div",Ue,[i("div",Le,[I(i("md-outlined-text-field",{label:t.$t("keywords"),"onUpdate:modelValue":a[0]||(a[0]=e=>s.text=e),onKeyup:se($,["enter"])},null,40,Oe),[[ne,s.text]])]),n.showToday?(l(),o("md-chip-set",Pe,[i("md-filter-chip",{key:"chip-today",label:t.$t("today"),selected:s.today,onClick:a[1]||(a[1]=e=>s.today=!s.today)},null,8,Ke)])):c("",!0),n.showTrash?(l(),o("md-chip-set",je,[i("md-filter-chip",{key:"chip-today",label:t.$t("trash"),selected:s.trash,onClick:a[2]||(a[2]=e=>s.trash=!s.trash)},null,8,Ee)])):c("",!0),n.tags.length>0?(l(),o(d,{key:2},[i("label",Ge,u(t.$t("tags")),1),i("md-chip-set",null,[(l(!0),o(d,null,m(r.tags,e=>(l(),o("md-filter-chip",{key:e.id,label:e.name,selected:s.tagIds.includes(e.id),onClick:v=>R(e)},null,8,Qe))),128))])],64)):c("",!0),n.feeds.length>0?(l(),o(d,{key:3},[i("label",Je,u(t.$t("page_title.feeds")),1),i("md-chip-set",null,[(l(!0),o(d,null,m(r.feeds,e=>(l(),o("md-filter-chip",{key:e.id,label:e.name,selected:s.feedId===e.id,onClick:v=>F(e)},null,8,We))),128))])],64)):c("",!0),n.buckets.length>0?(l(),o(d,{key:4},[i("label",Xe,u(t.$t("folders")),1),i("md-chip-set",null,[(l(!0),o(d,null,m(r.buckets,e=>(l(),o("md-filter-chip",{key:e.id,label:e.name,selected:s.bucketId===e.id,onClick:v=>z(e)},null,8,Ye))),128))])],64)):c("",!0),n.types.length>0?(l(),o(d,{key:5},[i("label",Ze,u(t.$t("types")),1),i("md-chip-set",null,[(l(!0),o(d,null,m(r.types,e=>(l(),o("md-filter-chip",{key:e.id,label:e.name,selected:s.type===e.id,onClick:v=>N(e)},null,8,et))),128))])],64)):c("",!0),i("div",tt,[i("md-filled-button",{onClick:k($,["stop"])},u(t.$t("search")),1)])])],40,De)],64)}}}),dt=_e(lt,[["__scopeId","data-v-20647efc"]]);export{dt as _,rt as a};
